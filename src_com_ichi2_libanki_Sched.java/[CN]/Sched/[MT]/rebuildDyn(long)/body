{
  if (did == 0) {
    did=mCol.getDecks().selected();
  }
  JSONObject deck=mCol.getDecks().get(did);
  if (!deck.has("dyn")) {
    Log.e(AnkiDroidApp.TAG,"error: deck is not a dynamic deck");
    return;
  }
  remDyn(did);
  String order=_dynOrder(deck);
  String limit;
  ArrayList<Long> ids;
  try {
    limit=" LIMIT " + deck.getInt("limit");
    ids=mCol.findCards(deck.getInt("search"),order + limit);
  }
 catch (  JSONException e) {
    throw new RuntimeException(e);
  }
  _moveToDyn(did,ids);
  mCol.getDecks().select(did);
}
