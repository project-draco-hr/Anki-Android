{
  SharedPreferences preferences=PrefSettings.getSharedPrefs(getBaseContext());
  String username=preferences.getString("username","");
  String password=preferences.getString("password","");
  if (AnkiDroidApp.isUserLoggedIn()) {
    Deck deck=AnkiDroidApp.deck();
    Log.i(AnkiDroidApp.TAG,"Synchronizing deck " + mDeckFilename);
    Log.i(AnkiDroidApp.TAG,String.format(Utils.ENGLISH_LOCALE,"before syncing - mod: %f, last sync: %f",deck.getModified(),deck.getLastSync()));
    Connection.syncDeck(syncListener,new Connection.Payload(new Object[]{username,password,deck,mDeckFilename}));
  }
 else {
    mUserNotLoggedInAlert.show();
  }
}
