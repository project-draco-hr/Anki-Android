{
  SharedPreferences preferences=PrefSettings.getSharedPrefs(getBaseContext());
  mPrefDeckPath=preferences.getString("deckPath",AnkiDroidApp.getStorageDirectory());
  mPrefStudyOptions=preferences.getBoolean("study_options",true);
  mStartupMode=Integer.parseInt(preferences.getString("startup_mode",Integer.toString(SUM_DECKPICKER_ON_FIRST_START)));
  mSwipeEnabled=preferences.getBoolean("swipe",false);
  mLastTimeOpened=preferences.getLong("lastTimeOpened",0);
  BroadcastMessages.init(this,mLastTimeOpened);
  preferences.edit().putLong("lastTimeOpened",System.currentTimeMillis()).commit();
  mInvertedColors=preferences.getBoolean("invertedColors",false);
  mSwap=preferences.getBoolean("swapqa",false);
  mLocale=preferences.getString("language","");
  mZeemoteEnabled=preferences.getBoolean("zeemote",false);
  setLanguage(mLocale);
  return preferences;
}
