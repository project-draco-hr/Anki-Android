{
  Log.i(AnkiDroidApp.TAG,"displayProgressDialogAndLoadDeck - Loading deck " + mDeckFilename);
  if (mDeckFilename != null && new File(mDeckFilename).exists()) {
    mToggleCram.setChecked(false);
    mToggleLimit.setEnabled(true);
    DeckManager.closeMainDeck(DeckManager.REQUESTING_ACTIVITY_STUDYOPTIONS);
    if (updateAllCards) {
      DeckTask.launchDeckTask(DeckTask.TASK_TYPE_LOAD_DECK_AND_UPDATE_CARDS,mLoadDeckHandler,new DeckTask.TaskData(DeckManager.REQUESTING_ACTIVITY_STUDYOPTIONS,mDeckFilename));
    }
 else {
      DeckTask.launchDeckTask(DeckTask.TASK_TYPE_LOAD_DECK,mLoadDeckHandler,new DeckTask.TaskData(DeckManager.REQUESTING_ACTIVITY_STUDYOPTIONS,mDeckFilename));
    }
  }
 else {
    if (mDeckFilename == null) {
      Log.i(AnkiDroidApp.TAG,"displayProgressDialogAndLoadDeck - SD card unmounted.");
    }
 else     if (!new File(mDeckFilename).exists()) {
      Log.i(AnkiDroidApp.TAG,"displayProgressDialogAndLoadDeck - The deck " + mDeckFilename + " does not exist.");
    }
  }
}
