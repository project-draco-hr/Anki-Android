{
  super.onActivityResult(requestCode,resultCode,intent);
  if (resultCode == CONTENT_NO_EXTERNAL_STORAGE) {
    showContentView(CONTENT_NO_EXTERNAL_STORAGE);
  }
 else   if (requestCode == PICK_DECK_REQUEST || requestCode == DOWNLOAD_PERSONAL_DECK || requestCode == DOWNLOAD_SHARED_DECK) {
    inDeckPicker=false;
    if (resultCode != RESULT_OK) {
      Log.e(TAG,"onActivityResult - Deck browser returned with error");
      displayProgressDialogAndLoadDeck();
      return;
    }
    if (intent == null) {
      Log.e(TAG,"onActivityResult - Deck browser returned null intent");
      displayProgressDialogAndLoadDeck();
      return;
    }
    Log.i(TAG,"onActivityResult = OK");
    deckFilename=intent.getExtras().getString(OPT_DB);
    savePreferences();
    boolean updateAllCards=(requestCode == DOWNLOAD_SHARED_DECK);
    displayProgressDialogAndLoadDeck(updateAllCards);
  }
 else   if (requestCode == PREFERENCES_UPDATE) {
    restorePreferences();
    showContentView();
  }
 else   if (requestCode == REQUEST_REVIEW) {
    Log.i(TAG,"Result code = " + resultCode);
    AnkiDroidApp.deck().updateCutoff();
    AnkiDroidApp.deck().reset();
switch (resultCode) {
case Reviewer.RESULT_SESSION_COMPLETED:
      showContentView(CONTENT_SESSION_COMPLETE);
    break;
case Reviewer.RESULT_NO_MORE_CARDS:
  showContentView(CONTENT_CONGRATS);
break;
default :
showContentView(CONTENT_STUDY_OPTIONS);
break;
}
}
}
