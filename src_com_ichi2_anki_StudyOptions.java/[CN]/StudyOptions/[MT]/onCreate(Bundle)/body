{
  Themes.applyTheme(this);
  super.onCreate(savedInstanceState);
  Log.i(AnkiDroidApp.TAG,"StudyOptions - OnCreate()");
  SharedPreferences preferences=restorePreferences();
  registerExternalStorageListener();
  mCol=Collection.currentCollection();
  activeCramTags=new HashSet<String>();
  mSelectedTags=new HashSet<String>();
  initAllContentViews();
  showContentView(CONTENT_STUDY_OPTIONS);
  gestureDetector=new GestureDetector(new MyGestureDetector());
  gestureListener=new View.OnTouchListener(){
    public boolean onTouch(    View v,    MotionEvent event){
      if (gestureDetector.onTouchEvent(event)) {
        return true;
      }
      return false;
    }
  }
;
  if (UIUtils.getApiLevel() >= 11) {
    mCompat=new CompatV11();
  }
 else {
    mCompat=new CompatV3();
  }
}
