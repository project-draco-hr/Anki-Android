{
  Deck deck=AnkiDroidApp.deck();
  DeckTask.waitToFinish();
  if (deck != null) {
    deck.reset();
    int reviewCount=deck.getDueCount();
    String unformattedTitle=getResources().getString(R.string.studyoptions_window_title);
    setTitle(String.format(unformattedTitle,deck.getDeckName(),reviewCount,deck.getCardCount()));
    mTextDeckName.setText(deck.getDeckName());
    mTextReviewsDue.setText(String.valueOf(reviewCount));
    mTextNewToday.setText(String.valueOf(deck.getNewCountToday()));
    mTextNewTotal.setText(String.valueOf(deck.getNewCount()));
    if (!mEditNewPerDay.getText().toString().equals(String.valueOf(deck.getNewCardsPerDay())) && !mEditNewPerDay.getText().toString().equals("")) {
      mEditNewPerDay.setText(String.valueOf(deck.getNewCardsPerDay()));
    }
    if (!mEditSessionTime.getText().toString().equals(String.valueOf(deck.getSessionTimeLimit() / 60)) && !mEditSessionTime.getText().toString().equals("")) {
      mEditSessionTime.setText(String.valueOf(deck.getSessionTimeLimit() / 60));
    }
    if (!mEditSessionQuestions.getText().toString().equals(String.valueOf(deck.getSessionRepLimit())) && !mEditSessionQuestions.getText().toString().equals("")) {
      mEditSessionQuestions.setText(String.valueOf(deck.getSessionRepLimit()));
    }
  }
}
