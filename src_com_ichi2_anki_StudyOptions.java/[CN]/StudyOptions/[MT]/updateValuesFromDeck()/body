{
  Deck deck=AnkiDroidApp.deck();
  Resources res=getResources();
  DeckTask.waitToFinish();
  if (deck != null) {
    deck.reset();
    int reviewCount=deck.getDueCount();
    setTitle(res.getQuantityString(R.plurals.studyoptions_window_title,reviewCount,deck.getDeckName(),reviewCount,deck.getCardCount()));
    mTextDeckName.setText(deck.getDeckName());
    mTextReviewsDue.setText(String.valueOf(reviewCount));
    mTextNewToday.setText(String.valueOf(deck.getNewCountToday()));
    String etastr="-";
    int eta=(int)deck.getStats(Stats.TYPE_ETA)[0];
    if (eta != -1) {
      etastr=Integer.toString(eta / 60);
    }
    mTextETA.setText(etastr);
    mTextNewTotal.setText(String.valueOf(deck.getNewCount()));
  }
}
