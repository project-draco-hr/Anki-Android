{
  mBarsMax.getViewTreeObserver().addOnGlobalLayoutListener(new OnGlobalLayoutListener(){
    @Override public void onGlobalLayout(){
      mBarsMax.getViewTreeObserver().removeGlobalOnLayoutListener(this);
      int maxWidth=mBarsMax.getWidth() + 1;
      int height=mBarsMax.getHeight();
      int mat=(int)(mProgressMature * maxWidth);
      Utils.updateProgressBars(mGlobalMatBar,mat,height);
      Utils.updateProgressBars(mGlobalBar,(int)(mProgressAll * maxWidth) - mat,height);
      if (mGlobalMatBar.getVisibility() == View.INVISIBLE) {
        mGlobalMatBar.setVisibility(View.VISIBLE);
        mGlobalMatBar.setAnimation(ViewAnimation.fade(ViewAnimation.FADE_IN,100,0));
        mGlobalBar.setVisibility(View.VISIBLE);
        mGlobalBar.setAnimation(ViewAnimation.fade(ViewAnimation.FADE_IN,100,0));
      }
    }
  }
);
}
