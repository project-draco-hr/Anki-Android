{
  super.onDestroy();
  if (!isFinishing()) {
    DeckManager.closeMainDeck(DeckManager.REQUESTING_ACTIVITY_STUDYOPTIONS);
    mCompat.invalidateOptionsMenu(StudyOptions.this);
    MetaDB.closeDB();
  }
  if (mUnmountReceiver != null) {
    unregisterReceiver(mUnmountReceiver);
  }
  if ((AnkiDroidApp.zeemoteController() != null) && (AnkiDroidApp.zeemoteController().isConnected())) {
    try {
      AnkiDroidApp.zeemoteController().disconnect();
    }
 catch (    IOException ex) {
      Log.e("Zeemote","Error on zeemote disconnection in onDestroy: " + ex.getMessage());
    }
  }
}
