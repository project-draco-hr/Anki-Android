{
  Statistics.refreshStatistics();
  Intent i=new Intent(Intent.ACTION_VIEW,DataContentProvider.PROVIDER_URI);
  i.putExtra(Intent.EXTRA_TITLE,"CArds due");
  i.addCategory(IntentConstants.CATEGORY_XY_CHART);
  i.setClassName("com.googlecode.chartdroid","org.achartengine.activity.BarChartActivity");
  i.putExtra("com.googlecode.chartdroid.intent.extra.SERIES_COLORS",new int[]{getResources().getColor(R.color.statistics_all_cards),getResources().getColor(R.color.statistics_mature_cards)});
  if (Market.isIntentAvailable(this,i)) {
    startActivity(i);
  }
 else {
    AlertDialog dialog=new AlertDialog.Builder(this).setIcon(android.R.drawable.ic_dialog_alert).setTitle("Download ChartDroid").setMessage("You need to download ChartDroid to display this data.").setPositiveButton("Market download",new DialogInterface.OnClickListener(){
      public void onClick(      DialogInterface dialog,      int whichButton){
        startActivity(Market.getMarketDownloadIntent(Market.CHARTDROID_PACKAGE_NAME));
      }
    }
).setNeutralButton("Web download",new DialogInterface.OnClickListener(){
      public void onClick(      DialogInterface dialog,      int whichButton){
        startActivity(new Intent(Intent.ACTION_VIEW,Market.APK_DOWNLOAD_URI_CHARTDROID));
      }
    }
).create();
    dialog.show();
  }
}
