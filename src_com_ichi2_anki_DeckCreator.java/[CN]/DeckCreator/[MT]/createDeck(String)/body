{
  Log.d(AnkiDroidApp.TAG,"Creating deck: " + filename);
  filename=filename + ".anki";
  File decksDirectory=new File(mPrefDeckPath);
  if (!decksDirectory.isDirectory()) {
    decksDirectory.mkdirs();
  }
  File destinationFile=new File(mPrefDeckPath,filename);
  if (destinationFile.exists()) {
    return false;
  }
  try {
    InputStream stream=getResources().getAssets().open(EMPTY_DECK_NAME);
    Utils.writeToFile(stream,destinationFile.getAbsolutePath());
    stream.close();
  }
 catch (  IOException e) {
    Log.e(AnkiDroidApp.TAG,Log.getStackTraceString(e));
    Log.e(AnkiDroidApp.TAG,"onCreate - The copy of empty.anki to the SD card failed.");
    return false;
  }
  Deck.initializeEmptyDeck(mPrefDeckPath + "/" + filename);
  return true;
}
