{
  Log.i(TAG,"displayProgressDialogAndLoadDeck - Loading deck " + deckFilename + ", update all cards = "+ updateAllCards);
  deckSelected=true;
  if (isSdCardMounted()) {
    if (deckFilename != null && new File(deckFilename).exists()) {
      showControls(false);
      if (updateAllCards) {
        DeckTask.launchDeckTask(DeckTask.TASK_TYPE_LOAD_DECK_AND_UPDATE_CARDS,mLoadDeckHandler,new DeckTask.TaskData(deckFilename));
      }
 else {
        DeckTask.launchDeckTask(DeckTask.TASK_TYPE_LOAD_DECK,mLoadDeckHandler,new DeckTask.TaskData(deckFilename));
      }
    }
 else {
      if (deckFilename == null) {
        Log.i(TAG,"displayProgressDialogAndLoadDeck - SD card unmounted.");
      }
 else       if (!new File(deckFilename).exists()) {
        Log.i(TAG,"displayProgressDialogAndLoadDeck - The deck " + deckFilename + " does not exist.");
      }
      displayDeckNotLoaded();
    }
  }
 else {
    Log.i(TAG,"displayProgressDialogAndLoadDeck - SD card unmounted.");
    deckSelected=false;
    Log.i(TAG,"displayProgressDialogAndLoadDeck - deckSelected = " + deckSelected);
    displaySdError();
  }
}
