{
  super(context,attrs);
  if (!mInvertedColors) {
    mForegroundColor=context.getResources().getColor(R.color.wb_fg_color);
    mBackgroundColor=context.getResources().getColor(R.color.wb_bg_color);
  }
 else {
    mForegroundColor=context.getResources().getColor(R.color.wb_fg_color_inv);
    mBackgroundColor=context.getResources().getColor(R.color.wb_bg_color_inv);
  }
  mPaint=new Paint();
  mPaint.setAntiAlias(true);
  mPaint.setDither(true);
  mPaint.setColor(mForegroundColor);
  mPaint.setStyle(Paint.Style.STROKE);
  mPaint.setStrokeJoin(Paint.Join.ROUND);
  mPaint.setStrokeCap(Paint.Cap.ROUND);
  int wbStrokeWidth=PrefSettings.getSharedPrefs(context).getInt("whiteBoardStrokeWidth",6);
  mPaint.setStrokeWidth((float)wbStrokeWidth);
  createBitmap();
  mPath=new Path();
  mBitmapPaint=new Paint(Paint.DITHER_FLAG);
}
