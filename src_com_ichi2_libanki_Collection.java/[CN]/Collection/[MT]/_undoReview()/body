{
  LinkedList<Card> data=(LinkedList<Card>)mUndo[2];
  Card c=data.removeLast();
  if (data.size() == 0) {
    clearUndo();
  }
  c.flush();
  long last=mDb.queryLongScalar("SELECT id FROM revlog WHERE cid = " + c.getId() + " ORDER BY id DESC LIMIT 1");
  mDb.execute("DELETE FROM revlog WHERE id = " + last);
  int n=c.getQueue() == 3 ? 1 : c.getQueue();
  String type=(new String[]{"new","lrn","rev"})[n];
  mSched._updateStats(c,type,-1);
  return c;
}
