{
  int taken;
  try {
    taken=Math.min(card.timeTaken(),_cardConf(card).getInt("maxTaken") * 1000);
  }
 catch (  JSONException e) {
    throw new RuntimeException(e);
  }
  int time=(int)(Utils.now() * 1000);
  try {
    log(time,card.getId(),ease,card.getId(),card.getLastIvl(),card.getFactor(),taken,1);
  }
 catch (  SQLiteConstraintException e) {
    log(time + 10,card.getId(),ease,card.getId(),card.getLastIvl(),card.getFactor(),taken,1);
  }
}
