{
  sLock.lock();
  try {
    Collection collection=(Collection)params[0];
    if (!mIsRunning || collection == null || collection.getDb() == null) {
      return null;
    }
 else     mTextView=(TextView)params[1];
    int cards, thetime;
    Cursor cur=null;
    String query="select count(), sum(time)/1000 from revlog where id > " + ((collection.getSched().getDayCutoff() - 86400) * 1000);
    try {
      cur=collection.getDb().getDatabase().rawQuery(query,null);
      cur.moveToFirst();
      cards=cur.getInt(0);
      thetime=cur.getInt(1);
    }
  finally {
      if (cur != null && !cur.isClosed()) {
        cur.close();
      }
    }
    return mTextView.getResources().getQuantityString(R.plurals.stats_today_cards_not_bold,cards,cards,Utils.fmtTimeSpan(thetime,1));
  }
  finally {
    sLock.unlock();
  }
}
