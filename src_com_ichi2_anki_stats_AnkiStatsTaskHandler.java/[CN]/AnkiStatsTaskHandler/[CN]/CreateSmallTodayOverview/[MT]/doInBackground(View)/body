{
  sLock.lock();
  try {
    if (!mIsRunning) {
      Log.d(AnkiDroidApp.TAG,"quiting CreateSmallTodayOverview before execution");
      return null;
    }
 else     Log.d(AnkiDroidApp.TAG,"starting CreateSmallTodayOverview");
    mTextView=(TextView)params[0];
    Collection collection=AnkiDroidApp.getCol();
    int cards, thetime;
    Cursor cur=null;
    String query="select count(), sum(time)/1000 from revlog where id > " + ((collection.getSched().getDayCutoff() - 86400) * 1000);
    Log.d(AnkiDroidApp.TAG,"CreateSmallTodayOverview query: " + query);
    try {
      cur=collection.getDb().getDatabase().rawQuery(query,null);
      cur.moveToFirst();
      cards=cur.getInt(0);
      thetime=cur.getInt(1);
    }
  finally {
      if (cur != null && !cur.isClosed()) {
        cur.close();
      }
    }
    return mTextView.getResources().getQuantityString(R.plurals.stats_today_cards_not_bold,cards,cards,Utils.fmtTimeSpan(thetime,1));
  }
  finally {
    sLock.unlock();
  }
}
