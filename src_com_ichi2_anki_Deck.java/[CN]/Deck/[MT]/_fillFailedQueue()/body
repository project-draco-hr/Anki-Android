{
  if ((mFailedSoonCount != 0) && mFailedQueue.isEmpty()) {
    Cursor cur=null;
    try {
      String sql="SELECT c.id, factId, due FROM cards c WHERE queue = 0 AND due < " + mFailedCutoff + " ORDER BY due LIMIT "+ mQueueLimit;
      cur=getDB().getDatabase().rawQuery(cardLimit("revActive","revInactive",sql),null);
      while (cur.moveToNext()) {
        QueueItem qi=new QueueItem(cur.getLong(0),cur.getLong(1),cur.getDouble(2));
        mFailedQueue.add(0,qi);
      }
    }
  finally {
      if (cur != null && !cur.isClosed()) {
        cur.close();
      }
    }
  }
}
