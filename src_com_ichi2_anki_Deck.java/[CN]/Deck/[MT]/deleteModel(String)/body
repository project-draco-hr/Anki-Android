{
  Cursor cursor=null;
  boolean modelExists=false;
  try {
    cursor=getDB().getDatabase().rawQuery("SELECT * FROM models WHERE id = " + id,null);
    if (cursor.moveToFirst()) {
      modelExists=true;
    }
  }
  finally {
    if (cursor != null && !cursor.isClosed()) {
      cursor.close();
    }
  }
  if (modelExists) {
    ArrayList<String> cardsToDelete=getDB().queryColumn(String.class,"SELECT cards.id FROM cards, facts WHERE facts.modelId = " + id + " AND facts.id = cards.factId",0);
    deleteCards(cardsToDelete);
    getDB().delete(this,"models","id = " + id,null);
    ContentValues values=new ContentValues();
    values.put("modelId",id);
    values.put("deletedTime",Utils.now());
    getDB().insert(this,"modelsDeleted",null,values);
    flushMod();
  }
}
