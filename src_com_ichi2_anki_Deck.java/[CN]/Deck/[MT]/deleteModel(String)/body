{
  Log.i(TAG,"deleteModel = " + id);
  AnkiDb ankiDB=AnkiDatabaseManager.getDatabase(deckPath);
  Cursor cursor=ankiDB.database.rawQuery("SELECT * FROM models WHERE id = " + id,null);
  if (cursor.moveToFirst()) {
    ArrayList<String> cardsToDelete=ankiDB.queryColumn(String.class,"SELECT cards.id FROM cards, facts WHERE facts.modelId = " + id + " AND facts.id = cards.factId",0);
    deleteCards(cardsToDelete);
    ankiDB.database.execSQL("DELETE FROM models WHERE id = " + id);
    ContentValues values=new ContentValues();
    values.put("modelId",id);
    values.put("deletedTime",System.currentTimeMillis() / 1000.0);
    ankiDB.database.insert("modelsDeleted",null,values);
    flushMod();
  }
  cursor.close();
}
