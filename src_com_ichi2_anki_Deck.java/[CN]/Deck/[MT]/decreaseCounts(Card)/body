{
  long start, stop;
  Cursor cursor;
  String extra;
  if (reviewEarly)   extra="";
 else {
    extra="or id = " + card.id;
  }
  start=System.currentTimeMillis();
  cursor=AnkiDb.database.rawQuery("SELECT type, count(type) " + "FROM cards " + "WHERE factId = " + card.factId + " and "+ "(isDue = 1 "+ extra+ ") "+ "GROUP BY type",null);
  while (cursor.moveToNext()) {
    if (cursor.getInt(0) == 0)     failedSoonCount-=cursor.getInt(1);
 else     if (cursor.getInt(0) == 1)     revCount-=cursor.getInt(1);
 else     newCount-=cursor.getInt(1);
  }
  cursor.close();
  stop=System.currentTimeMillis();
  Log.v(TAG,"decreaseCounts - decreased counts in " + (stop - start) + " ms.");
}
