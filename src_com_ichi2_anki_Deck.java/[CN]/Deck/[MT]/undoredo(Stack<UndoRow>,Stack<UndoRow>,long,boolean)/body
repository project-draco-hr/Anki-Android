{
  UndoRow row;
  while (true) {
    row=src.pop();
    if (row != null) {
      break;
    }
  }
  int start=row.mStart;
  int end=row.mEnd;
  if (end == 0) {
    end=latestUndoRow();
  }
  ArrayList<String> sql=new ArrayList<String>();
  sql.addAll(mUndoCommands.subList(start,end));
  int newstart=latestUndoRow();
  for (  String s : sql) {
    getDB().getDatabase().execSQL(s);
  }
  mCurrentUndoRedoType=row.mName;
  int newend=latestUndoRow();
  if (inReview) {
    dst.push(new UndoRow(row.mName,row.mCardId,newstart,newend));
  }
 else {
    dst.push(new UndoRow(row.mName,oldCardId,newstart,newend));
  }
  return row.mCardId;
}
