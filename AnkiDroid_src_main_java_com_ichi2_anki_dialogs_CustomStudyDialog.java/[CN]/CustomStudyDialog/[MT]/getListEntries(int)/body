{
  mEntries.clear();
  Resources res=getResources();
  String[] entries;
  Collection col=((AnkiActivity)getActivity()).getCol();
switch (idx) {
case CONTEXT_MENU_STANDARD:
    mEntries.add(CUSTOM_STUDY_NEW);
  mEntries.add(CUSTOM_STUDY_REV);
mEntries.add(CUSTOM_STUDY_FORGOT);
mEntries.add(CUSTOM_STUDY_AHEAD);
mEntries.add(CUSTOM_STUDY_RANDOM);
mEntries.add(CUSTOM_STUDY_PREVIEW);
mEntries.add(CUSTOM_STUDY_TAGS);
entries=new String[7];
entries[0]=res.getString(R.string.custom_study_increase_new_limit);
entries[1]=res.getString(R.string.custom_study_increase_review_limit);
entries[2]=res.getString(R.string.custom_study_review_forgotten);
entries[3]=res.getString(R.string.custom_study_review_ahead);
entries[4]=res.getString(R.string.custom_study_random_selection);
entries[5]=res.getString(R.string.custom_study_preview_new);
entries[6]=res.getString(R.string.custom_study_limit_tags);
break;
case CONTEXT_MENU_LIMITS:
if (col.getSched().newDue() && col.getSched().revDue()) {
entries=new String[4];
entries[0]=res.getString(R.string.custom_study_increase_new_limit);
entries[1]=res.getString(R.string.custom_study_increase_review_limit);
entries[2]=res.getString(R.string.study_options);
entries[3]=res.getString(R.string.custom_study);
mEntries.add(CUSTOM_STUDY_NEW);
mEntries.add(CUSTOM_STUDY_REV);
}
 else {
entries=new String[3];
if (col.getSched().newDue()) {
entries[0]=res.getString(R.string.custom_study_increase_new_limit);
mEntries.add(CUSTOM_STUDY_NEW);
}
 else {
entries[0]=res.getString(R.string.custom_study_increase_review_limit);
mEntries.add(CUSTOM_STUDY_REV);
}
entries[1]=res.getString(R.string.study_options);
entries[2]=res.getString(R.string.more_options);
}
mEntries.add(DECK_OPTIONS);
mEntries.add(MORE_OPTIONS);
break;
case CONTEXT_MENU_EMPTY_SCHEDULE:
mEntries.add(CUSTOM_STUDY_FORGOT);
mEntries.add(CUSTOM_STUDY_AHEAD);
mEntries.add(CUSTOM_STUDY_RANDOM);
mEntries.add(CUSTOM_STUDY_PREVIEW);
mEntries.add(CUSTOM_STUDY_TAGS);
mEntries.add(DECK_OPTIONS);
entries=new String[6];
entries[0]=res.getString(R.string.custom_study_review_forgotten);
entries[1]=res.getString(R.string.custom_study_review_ahead);
entries[2]=res.getString(R.string.custom_study_random_selection);
entries[3]=res.getString(R.string.custom_study_preview_new);
entries[4]=res.getString(R.string.custom_study_limit_tags);
entries[5]=res.getString(R.string.study_options);
break;
default :
entries=null;
}
return entries;
}
