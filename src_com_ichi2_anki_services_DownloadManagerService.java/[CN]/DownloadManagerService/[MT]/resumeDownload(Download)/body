{
  new File(mDestination + "/tmp/").mkdirs();
  AnkiDroidApp.createNoMediaFileIfMissing(new File(mDestination));
  if (download instanceof SharedDeckDownload) {
    SharedDeckDownload sharedDeckDownload=(SharedDeckDownload)download;
    if (sharedDeckDownload.getStatus() == SharedDeckDownload.STATUS_PAUSED || sharedDeckDownload.getStatus() == SharedDeckDownload.STATUS_UPDATING) {
      new UpdateDeckTask().execute(new Payload(new Object[]{sharedDeckDownload}));
    }
 else {
      new DownloadSharedDeckTask().execute(sharedDeckDownload);
    }
  }
 else {
    new DownloadPersonalDeckTask().execute(download);
  }
}
