{
  try {
    KeyStore trusted=KeyStore.getInstance("BKS");
    InputStream in=AnkiDroidApp.getInstance().getApplicationContext().getResources().openRawResource(R.raw.ankiweb_cert);
    try {
      trusted.load(in,"mysecret".toCharArray());
    }
  finally {
      in.close();
    }
    SSLSocketFactory sf=new SSLSocketFactory(trusted);
    sf.setHostnameVerifier(SSLSocketFactory.STRICT_HOSTNAME_VERIFIER);
    return sf;
  }
 catch (  Exception e) {
    Log.e(AnkiDroidApp.TAG,"Certificate error");
    throw new AssertionError(e);
  }
}
