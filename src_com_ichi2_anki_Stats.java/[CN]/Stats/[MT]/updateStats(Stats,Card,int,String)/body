{
  ContentValues oldValues=stats.getValues();
  char[] newState=oldState.toCharArray();
  stats.mReps+=1;
  double delay=card.totalTime();
  if (delay >= 60) {
    stats.mReviewTime+=60;
  }
 else {
    stats.mReviewTime+=delay;
    stats.mAverageTime=(stats.mReviewTime / stats.mReps);
  }
  newState[0]=Character.toUpperCase(newState[0]);
  StringBuilder attr=new StringBuilder();
  attr.append("m").append(String.valueOf(newState)).append(String.format("Ease%d",ease));
  try {
    Field f=stats.getClass().getDeclaredField(attr.toString());
    f.setInt(stats,f.getInt(stats) + 1);
  }
 catch (  Exception e) {
    Log.e(AnkiDroidApp.TAG,"Failed to update " + attr.toString() + " : "+ e.getMessage());
  }
  stats.toDB(oldValues);
}
