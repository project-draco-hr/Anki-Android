{
  File mdir=new File(getDir());
  List<List<String>> result=new ArrayList<List<String>>();
  List<String> unused=new ArrayList<String>();
  Set<String> normrefs=new HashSet<String>();
  for (  String f : allMedia()) {
    if (AnkiDroidApp.SDK_VERSION > 9) {
      f=AnkiDroidApp.getCompat().normalizeUnicode(f);
    }
    normrefs.add(f);
  }
  for (  File file : mdir.listFiles()) {
    if (file.isDirectory()) {
      continue;
    }
    if (file.getName().startsWith("_")) {
      continue;
    }
    String nfile=file.getName();
    if (AnkiDroidApp.SDK_VERSION > 9) {
      nfile=AnkiDroidApp.getCompat().normalizeUnicode(nfile);
    }
    if (!normrefs.contains(nfile)) {
      unused.add(file.getName());
    }
 else {
      normrefs.remove(nfile);
    }
  }
  List<String> nohave=new ArrayList<String>(normrefs);
  result.add(nohave);
  result.add(unused);
  return result;
}
