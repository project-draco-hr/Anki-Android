{
switch (item.getItemId()) {
case R.id.action_undo:
    Timber.i("StudyOptionsFragment:: Undo button pressed");
  if (colOpen()) {
    getCol().undo();
    refreshInterfaceAndDecklist(true);
    getActivity().supportInvalidateOptionsMenu();
  }
return true;
case R.id.action_night_mode:
SharedPreferences preferences=AnkiDroidApp.getSharedPrefs(getActivity());
if (preferences.getBoolean("invertedColors",false)) {
Timber.i("StudyOptionsFragment:: Night mode was disabled");
preferences.edit().putBoolean("invertedColors",false).commit();
item.setIcon(R.drawable.ic_brightness_5_white_24dp);
}
 else {
Timber.i("StudyOptionsFragment:: Night mode was enabled");
preferences.edit().putBoolean("invertedColors",true).commit();
item.setIcon(R.drawable.ic_brightness_3_white_24dp);
}
return true;
case R.id.action_add_note_from_study_options:
Timber.i("StudyOptionsFragment:: Add note button pressed");
addNote();
return true;
default :
return super.onOptionsItemSelected(item);
}
}
