{
  mListView=listview;
  if (mSetScrollBarFading) {
    try {
      mSetScrollbarBarFading=ListView.class.getMethod("setScrollbarFadingEnabled",boolean.class);
      mSetScrollbarBarFading.invoke(mListView,false);
    }
 catch (    Throwable e) {
      Log.i(AnkiDroidApp.TAG,"setScrollbarFadingEnabled could not be set due to a too low Android version (< 2.1)");
      mSetScrollBarFading=false;
    }
  }
  mItemList=new ArrayList<String>();
  for (  String titel : values) {
    mItemList.add(titel);
  }
  mListener=listener;
  if (type == 3) {
    mListView.setOnItemClickListener(new OnItemClickListener(){
      @Override public void onItemClick(      AdapterView<?> parent,      View view,      int position,      long id){
        mListener.onClick(StyledDialog.this,position);
      }
    }
);
  }
 else {
    mListView.setOnItemClickListener(new OnItemClickListener(){
      @Override public void onItemClick(      AdapterView<?> parent,      View view,      int position,      long id){
        mListener.onClick(StyledDialog.this,position);
        StyledDialog.this.dismiss();
      }
    }
);
  }
switch (type) {
case 1:
    mListAdapter=new ArrayAdapter<String>(mContext,R.layout.select_dialog_nochoice,0,mItemList);
  mListView.setAdapter(mListAdapter);
mListView.setChoiceMode(ListView.CHOICE_MODE_NONE);
break;
case 2:
mListAdapter=new ArrayAdapter<String>(mContext,R.layout.select_dialog_singlechoice,0,mItemList);
mListView.setAdapter(mListAdapter);
mListView.setChoiceMode(ListView.CHOICE_MODE_SINGLE);
mListView.setItemChecked(checkedItem,true);
break;
case 3:
mListAdapter=new ArrayAdapter<String>(mContext,R.layout.select_dialog_multichoice,0,mItemList);
mListView.setAdapter(mListAdapter);
mListView.setChoiceMode(ListView.CHOICE_MODE_MULTIPLE);
for (int i=0; i < checked.length; i++) {
listview.setItemChecked(i,checked[i]);
}
break;
}
}
