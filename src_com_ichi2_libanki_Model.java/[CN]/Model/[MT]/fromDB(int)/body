{
  Cursor cursor=null;
  try {
    cursor=mDb.getDatabase().rawQuery("SELECT crt, mod, name, flds, tmpls, conf, css FROM models WHERE id = " + id,null);
    if (!cursor.moveToFirst()) {
      Log.w(AnkiDroidApp.TAG,"Card.java (fromDB(id)): No result from query.");
      return false;
    }
    mCrt=cursor.getInt(0);
    mMod=cursor.getInt(1);
    mName=cursor.getString(2);
    mFields=new JSONArray(cursor.getString(3));
    mTemplates=new JSONArray(cursor.getString(4));
    mConf=new JSONObject(cursor.getString(5));
    mCss=cursor.getString(6);
  }
 catch (  JSONException e) {
    throw new RuntimeException(e);
  }
 finally {
    if (cursor != null) {
      cursor.close();
    }
  }
  mTemplateMap=new TreeMap<Integer,JSONObject>();
  for (int i=0; i < mFields.length(); i++) {
    try {
      mTemplateMap.put(mTemplates.getJSONObject(i).getInt("ord"),mTemplates.getJSONObject(i));
    }
 catch (    JSONException e) {
      throw new RuntimeException(e);
    }
  }
  return true;
}
