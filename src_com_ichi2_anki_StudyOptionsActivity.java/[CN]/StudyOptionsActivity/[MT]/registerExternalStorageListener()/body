{
  if (mUnmountReceiver == null) {
    mUnmountReceiver=new BroadcastReceiver(){
      @Override public void onReceive(      Context context,      Intent intent){
        if (intent.getAction().equals(Intent.ACTION_MEDIA_EJECT)) {
          if (mNotMountedDialog == null || !mNotMountedDialog.isShowing()) {
            mNotMountedDialog=StyledOpenCollectionDialog.show(StudyOptionsActivity.this,getResources().getString(R.string.sd_card_not_mounted),new OnCancelListener(){
              @Override public void onCancel(              DialogInterface arg0){
                finish();
              }
            }
);
          }
        }
 else         if (intent.getAction().equals(Intent.ACTION_MEDIA_MOUNTED)) {
          if (mNotMountedDialog != null && mNotMountedDialog.isShowing()) {
            mNotMountedDialog.dismiss();
          }
          ((StudyOptionsFragment)mCurrentFragment).reloadCollection();
        }
      }
    }
;
    IntentFilter iFilter=new IntentFilter();
    iFilter.addAction(Intent.ACTION_MEDIA_EJECT);
    iFilter.addAction(Intent.ACTION_MEDIA_MOUNTED);
    iFilter.addDataScheme("file");
    registerReceiver(mUnmountReceiver,iFilter);
  }
}
