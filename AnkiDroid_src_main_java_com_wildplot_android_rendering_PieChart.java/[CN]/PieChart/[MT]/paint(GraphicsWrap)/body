{
  if (mSum == 0)   return;
  RectangleWrap field=g.getClipBounds();
  float maxSideBorders=Math.max(mPlotSheet.getFrameThickness()[PlotSheet.LEFT_FRAME_THICKNESS_INDEX],mPlotSheet.getFrameThickness()[PlotSheet.RIGHT_FRAME_THICKNESS_INDEX]);
  float maxUpperBottomBorders=Math.max(mPlotSheet.getFrameThickness()[PlotSheet.UPPER_FRAME_THICKNESS_INDEX],mPlotSheet.getFrameThickness()[PlotSheet.BOTTOM_FRAME_THICKNESS_INDEX]);
  float realBorder=Math.max(maxSideBorders,maxUpperBottomBorders) + 3;
  float diameter=Math.min(field.width,field.height) - 2 * realBorder;
  float xCenter=(float)(field.width / 2.0);
  float yCenter=(float)(field.height / 2.0);
  ColorWrap oldColor=g.getColor();
  float xMiddle=xCenter - (float)(diameter / 2.0);
  float yMiddle=yCenter - (float)(diameter / 2.0);
  float angleOffSet=-90;
  float currentAngle=angleOffSet;
  float nextAngle=currentAngle + (float)(360.0 * mPercent[0]);
  int tmp=0;
  for (int i=0; i < mPercent.length - 1; i++) {
    g.setColor(mColors[i % mColorHelper]);
    g.fillArc(xMiddle,yMiddle,(int)diameter,(int)(diameter),-1 * currentAngle,-1 * (nextAngle - currentAngle));
    currentAngle=nextAngle;
    nextAngle=(int)(angleOffSet + 360.0 * mPercent[i + 1]);
    tmp=i;
  }
  tmp++;
  g.setColor(mColors[tmp % mColorHelper]);
  g.fillArc(xMiddle,yMiddle,diameter,diameter,-1 * currentAngle,-1 * (360 + angleOffSet - currentAngle));
  g.setColor(ColorWrap.black);
  g.drawArc(xMiddle,yMiddle,diameter,diameter,0,360);
  g.setColor(ColorWrap.white);
  for (int j=0; j < mPercent.length; j++) {
    double oldPercent=0;
    if (j != 0)     oldPercent=mPercent[j - 1];
    String text="" + Math.round((((mPercent[j] - oldPercent)) * 100) * 100) / 100.0 + "%";
    float x=(float)(xCenter + Math.cos(-1 * ((oldPercent + (mPercent[j] - oldPercent) * 0.5) * 360 + angleOffSet) * Math.PI / 180.0) * 0.375 * diameter) - 20;
    float y=(float)(yCenter - Math.sin(-1 * ((oldPercent + (mPercent[j] - oldPercent) * 0.5) * 360 + angleOffSet) * Math.PI / 180.0) * 0.375 * diameter);
    FontMetricsWrap fm=g.getFontMetrics();
    float width=fm.stringWidth(text);
    float height=fm.getHeight();
    ColorWrap color=g.getColor();
    g.setColor(new ColorWrap(0,0,0,0.5f));
    g.fillRect(x - 1,y - height + 3,width + 2,height);
    g.setColor(color);
    g.drawString(text,x,y);
  }
  g.setColor(oldColor);
}
