{
  super.onCreate(savedInstanceState);
  registerExternalStorageListener();
  setContentView(R.layout.fact_adder);
  mFieldsLayoutContainer=(LinearLayout)findViewById(R.id.FactAdderEditFieldsLayout);
  mAddButton=(Button)findViewById(R.id.FactAdderAddButton);
  mCloseButton=(Button)findViewById(R.id.FactAdderCloseButton);
  mModelButton=(Button)findViewById(R.id.FactAdderModelButton);
  mCardModelButton=(Button)findViewById(R.id.FactAdderCardModelButton);
  mTags=(Button)findViewById(R.id.FactAdderTagButton);
  mTags.setText(getResources().getString(R.string.CardEditorTags,mFactTags));
  mDeck=AnkiDroidApp.deck();
  modelChanged();
  mAddButton.setOnClickListener(new View.OnClickListener(){
    public void onClick(    View v){
    }
  }
);
  mModelButton.setOnClickListener(new View.OnClickListener(){
    public void onClick(    View v){
      showDialog(DIALOG_MODEL_SELECT);
    }
  }
);
  mCardModelButton.setOnClickListener(new View.OnClickListener(){
    public void onClick(    View v){
      recreateCardModelDialog();
      mCardModelDialog.show();
    }
  }
);
  mCloseButton.setOnClickListener(new View.OnClickListener(){
    public void onClick(    View v){
      closeFactAdder();
    }
  }
);
  allTags=null;
  mSelectedTags=new HashSet<String>();
  mTags.setOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    View v){
      recreateTagsDialog();
      if (!mTagsDialog.isShowing()) {
        mTagsDialog.show();
      }
    }
  }
);
  initDialogs();
}
