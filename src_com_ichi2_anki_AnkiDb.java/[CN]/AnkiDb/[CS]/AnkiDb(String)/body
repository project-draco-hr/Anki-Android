{
  mDatabase=SQLiteDatabase.openDatabase(ankiFilename,null,(SQLiteDatabase.OPEN_READWRITE + SQLiteDatabase.CREATE_IF_NECESSARY) | SQLiteDatabase.NO_LOCALIZED_COLLATORS);
  if (mDatabase != null) {
    if (AnkiDroidApp.SDK_VERSION >= 11) {
      queryString("PRAGMA journal_mode = WAL");
    }
 else {
      queryString("PRAGMA journal_mode = DELETE");
    }
    if (AnkiDroidApp.getSharedPrefs(AnkiDroidApp.getInstance().getBaseContext()).getBoolean("asyncMode",false)) {
      mDatabase.rawQuery("PRAGMA synchronous = 0",null);
    }
 else {
      mDatabase.rawQuery("PRAGMA synchronous = 2",null);
    }
  }
  mMod=false;
}
