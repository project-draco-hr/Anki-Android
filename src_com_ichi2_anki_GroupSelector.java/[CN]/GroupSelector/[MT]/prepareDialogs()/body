{
  AlertDialog.Builder builder=new AlertDialog.Builder(this);
  builder.setTitle("select conf");
  builder.setIcon(android.R.drawable.ic_menu_sort_by_size);
  TreeMap<String,Integer> groupconfs=mDeck.groupConfs();
  int len=groupconfs.size();
  mConfNames=new String[len];
  mConfIds=new int[len];
  mConfs=new HashMap<Integer,String>();
  int i=0;
  for (  Map.Entry<String,Integer> g : groupconfs.entrySet()) {
    mConfNames[i]=g.getKey();
    mConfIds[i]=g.getValue();
    mConfs.put(g.getValue(),g.getKey());
    i++;
  }
  builder.setSingleChoiceItems(mConfNames,0,new OnClickListener(){
    @Override public void onClick(    DialogInterface dialog,    int which){
      mDeck.setGroupConf(mCurrentSelectedGroup.get("fullname"),mConfIds[which]);
      mCurrentSelectedGroup.put("gcid",Integer.toString(mConfIds[which]));
      mCurrentSelectedGroup.put("conf","(" + mConfs.get(mConfIds[which]) + ")");
      int i=0;
      while (!mAllGroups.get(i).get("fullname").equals(mCurrentSelectedGroup.get("fullname"))) {
        i++;
      }
      mAllGroups.get(i).put("gcid",Integer.toString(mConfIds[which]));
      mAllGroups.get(i).put("conf","(" + mConfs.get(mConfIds[which]) + ")");
      mGroupsAdapter.notifyDataSetChanged();
      dialog.dismiss();
    }
  }
);
  mConfDialog=builder.create();
}
