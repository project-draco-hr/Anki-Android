{
  mCurrentState=newState;
switch (newState) {
case STATE_LOGGED_IN:
    String username=AnkiDroidApp.getSharedPrefs(getBaseContext()).getString("username","");
  mUsernameLoggedIn.setText(username);
mToolbar=(Toolbar)mLoggedIntoMyAccountView.findViewById(R.id.toolbar);
if (mToolbar != null) {
mToolbar.setTitle(getString(R.string.sync_account));
}
setContentView(mLoggedIntoMyAccountView);
break;
case STATE_LOG_IN:
mToolbar=(Toolbar)mLoginToMyAccountView.findViewById(R.id.toolbar);
if (mToolbar != null) {
mToolbar.setTitle(getString(R.string.sync_account));
}
setContentView(mLoginToMyAccountView);
break;
case STATE_ACCOUNT_SIGN_UP:
mToolbar=(Toolbar)mRegisterView.findViewById(R.id.toolbar);
if (mToolbar != null) {
mToolbar.setTitle(getString(R.string.sync_account));
}
setContentView(mRegisterView);
break;
}
supportInvalidateOptionsMenu();
}
