{
  TreeSet<String> fields=new TreeSet<String>();
  ArrayList<String> names=new ArrayList<String>();
  for (  JSONObject m : col.getModels().all()) {
    try {
      JSONArray flds=m.getJSONArray("flds");
      for (int i=0; i < flds.length(); i++) {
        String name=flds.getJSONObject(i).getString("name");
        if (!fields.contains(name.toLowerCase())) {
          names.add(name);
          fields.add(name.toLowerCase());
        }
      }
    }
 catch (    JSONException e) {
      throw new RuntimeException(e);
    }
  }
  if (downcase) {
    return new ArrayList<String>(fields);
  }
 else {
    return names;
  }
}
