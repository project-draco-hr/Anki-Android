{
  Timber.d("onCreate()");
  Themes.applyTheme(this);
  super.onCreate(savedInstanceState);
  View mainView=getLayoutInflater().inflate(R.layout.note_editor,null);
  setContentView(mainView);
  Toolbar toolbar=(Toolbar)mainView.findViewById(R.id.toolbar);
  if (toolbar != null) {
    setSupportActionBar(toolbar);
  }
  Intent intent=getIntent();
  if (savedInstanceState != null) {
    mCaller=savedInstanceState.getInt("caller");
    mAddNote=savedInstanceState.getBoolean("addFact");
  }
 else {
    mCaller=intent.getIntExtra(EXTRA_CALLER,CALLER_NOCALLER);
    if (mCaller == CALLER_NOCALLER) {
      String action=intent.getAction();
      if (action != null && (ACTION_CREATE_FLASHCARD.equals(action) || ACTION_CREATE_FLASHCARD_SEND.equals(action))) {
        mCaller=CALLER_INDICLASH;
      }
    }
  }
  startLoadingCollection();
}
