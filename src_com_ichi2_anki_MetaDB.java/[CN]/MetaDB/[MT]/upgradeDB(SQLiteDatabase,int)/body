{
  if (mMetaDb.getVersion() == 0) {
    Log.i(AnkiDroidApp.TAG,"Upgrade Internal Database from version: " + 0 + " to: "+ databaseVersion);
    mMetaDb.execSQL("CREATE TABLE IF NOT EXISTS languages (" + " _id INTEGER PRIMARY KEY AUTOINCREMENT, " + "deckpath TEXT NOT NULL, modelid INTEGER NOT NULL, "+ "cardmodelid INTEGER NOT NULL, "+ "qa INTEGER, "+ "language TEXT)");
    mMetaDb.execSQL("CREATE TABLE IF NOT EXISTS whiteboardState (" + "_id INTEGER PRIMARY KEY AUTOINCREMENT, " + "deckpath TEXT NOT NULL, "+ "state INTEGER)");
    mMetaDb.execSQL("CREATE TABLE IF NOT EXISTS customDictionary (" + "_id INTEGER PRIMARY KEY AUTOINCREMENT, " + "deckpath TEXT NOT NULL, "+ "dictionary INTEGER)");
    mMetaDb.execSQL("CREATE TABLE IF NOT EXISTS intentInformation (" + "id INTEGER PRIMARY KEY AUTOINCREMENT, " + "source TEXT NOT NULL, "+ "target INTEGER NOT NULL)");
    Cursor c=mMetaDb.rawQuery("PRAGMA table_info(widgetStatus)",null);
    int columnNumber=c.getCount();
    if (columnNumber > 0) {
      if (columnNumber < 7) {
        mMetaDb.execSQL("ALTER TABLE widgetStatus" + "ADD COLUMN eta INTEGER NOT NULL DEFAULT '0'");
        mMetaDb.execSQL("ALTER TABLE widgetStatus" + "ADD COLUMN time INTEGER NOT NULL DEFAULT '0'");
      }
    }
 else {
      mMetaDb.execSQL("CREATE TABLE IF NOT EXISTS widgetStatus (" + "deckPath TEXT NOT NULL PRIMARY KEY, " + "deckName TEXT NOT NULL, "+ "newCards INTEGER NOT NULL, "+ "dueCards INTEGER NOT NULL, "+ "failedCards INTEGER NOT NULL, "+ "eta INTEGER NOT NULL, "+ "time INTEGER NOT NULL)");
    }
  }
  mMetaDb.setVersion(databaseVersion);
  return mMetaDb;
}
