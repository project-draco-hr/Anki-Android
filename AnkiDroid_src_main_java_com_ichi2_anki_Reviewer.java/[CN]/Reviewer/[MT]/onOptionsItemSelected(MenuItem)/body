{
  if (getDrawerToggle().onOptionsItemSelected(item)) {
    return true;
  }
switch (item.getItemId()) {
case android.R.id.home:
    Timber.i("Home button pressed");
  closeReviewer(RESULT_OK,true);
break;
case R.id.action_undo:
Timber.i("Undo button pressed");
undo();
break;
case R.id.action_mark_card:
Timber.i("Mark button pressed");
DeckTask.launchDeckTask(DeckTask.TASK_TYPE_MARK_CARD,mMarkCardHandler,new DeckTask.TaskData(mSched,mCurrentCard,0));
break;
case R.id.action_replay:
Timber.i("Replay audio button pressed (from menu)");
playSounds(true);
break;
case R.id.action_edit:
Timber.i("Edit note button pressed");
return editCard();
case R.id.action_bury_card:
Timber.i("Bury card button pressed");
DeckTask.launchDeckTask(DeckTask.TASK_TYPE_DISMISS_NOTE,mDismissCardHandler,new DeckTask.TaskData(mSched,mCurrentCard,4));
break;
case R.id.action_bury_note:
Timber.i("Bury note button pressed");
DeckTask.launchDeckTask(DeckTask.TASK_TYPE_DISMISS_NOTE,mDismissCardHandler,new DeckTask.TaskData(mSched,mCurrentCard,0));
break;
case R.id.action_suspend_card:
Timber.i("Suspend card button pressed");
DeckTask.launchDeckTask(DeckTask.TASK_TYPE_DISMISS_NOTE,mDismissCardHandler,new DeckTask.TaskData(mSched,mCurrentCard,1));
break;
case R.id.action_suspend_note:
Timber.i("Suspend note button pressed");
DeckTask.launchDeckTask(DeckTask.TASK_TYPE_DISMISS_NOTE,mDismissCardHandler,new DeckTask.TaskData(mSched,mCurrentCard,2));
break;
case R.id.action_delete:
Timber.i("Delete note button pressed");
showDeleteNoteDialog();
break;
case R.id.action_clear_whiteboard:
Timber.i("Clear whiteboard button pressed");
if (mWhiteboard != null) {
mWhiteboard.clear();
}
break;
case R.id.action_hide_whiteboard:
Timber.i("Whiteboard visibility set to %b",!mShowWhiteboard);
setWhiteboardVisibility(!mShowWhiteboard);
refreshActionBar();
break;
case R.id.action_enable_whiteboard:
mPrefWhiteboard=!mPrefWhiteboard;
Timber.i("Whiteboard enabled state set to %b",mPrefWhiteboard);
setWhiteboardEnabledState(mPrefWhiteboard);
setWhiteboardVisibility(mPrefWhiteboard);
refreshActionBar();
break;
case R.id.action_search_dictionary:
Timber.i("Search dictionary button pressed");
lookUpOrSelectText();
break;
default :
return super.onOptionsItemSelected(item);
}
return true;
}
