{
  if (data == null) {
    throw new NullPointerException("Null context for variable '" + name + "' on line "+ line);
  }
  Mustache.VariableFetcher fetcher;
  if (Mustache.VariableFetcher.class.isInstance(data)) {
    fetcher=Mustache.VariableFetcher.class.cast(data);
  }
 else {
    fetcher=createFetcher(data.getClass(),name);
  }
  if (fetcher == null) {
    return null;
  }
  try {
    Object value=fetcher.get(data,name);
    return value;
  }
 catch (  Exception e) {
    throw new MustacheException("Failure fetching variable '" + name + "' on line "+ line,e);
  }
}
