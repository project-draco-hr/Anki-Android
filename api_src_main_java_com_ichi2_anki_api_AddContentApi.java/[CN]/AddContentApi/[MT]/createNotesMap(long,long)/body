{
  Cursor cursor=createNotesForModelDeckCursor(mid,did);
  Map<String,Note> result=new HashMap<>();
  if (cursor == null) {
    return result;
  }
  try {
    int idIndex=cursor.getColumnIndexOrThrow(FlashCardsContract.Note._ID);
    int fldsIndex=cursor.getColumnIndexOrThrow(FlashCardsContract.Note.FLDS);
    int tagsIndex=cursor.getColumnIndexOrThrow(FlashCardsContract.Note.TAGS);
    while (cursor.moveToNext()) {
      long id=cursor.getLong(idIndex);
      String fldsStr=cursor.getString(fldsIndex);
      if (fldsStr == null) {
        continue;
      }
      String[] flds=splitFields(fldsStr);
      if (flds.length < 1) {
        continue;
      }
      String tags=cursor.getString(tagsIndex);
      Note note=new Note(id,flds,tags);
      result.put(flds[0],note);
    }
  }
  finally {
    cursor.close();
  }
  return result;
}
