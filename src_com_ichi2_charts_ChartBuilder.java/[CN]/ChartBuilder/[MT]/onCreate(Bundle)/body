{
  super.onCreate(savedInstanceState);
  restorePreferences();
  if (mFullScreen) {
    getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN);
    requestWindowFeature(Window.FEATURE_NO_TITLE);
  }
  setContentView(R.layout.statistics);
  mTitle=(TextView)findViewById(R.id.statistics_title);
  if (mChartView == null) {
    if (mFullScreen) {
      mTitle.setText(Statistics.sTitle);
    }
 else {
      setTitle(Statistics.sTitle);
      mTitle.setVisibility(View.GONE);
    }
    for (int i=0; i < Statistics.sSeriesList.length; i++) {
      setDataset(i);
      setRenderer(Statistics.sType,i);
    }
    mRenderer.setShowLegend(false);
    mPan=new double[]{Statistics.xAxisData[0] - 1,Statistics.xAxisData[Statistics.xAxisData.length - 1] + 1};
    mRenderer.setLegendTextSize(17);
    mRenderer.setLegendHeight(60);
    mRenderer.setAxisTitleTextSize(17);
    mRenderer.setLabelsTextSize(17);
    mRenderer.setXAxisMin(mPan[0]);
    mRenderer.setXAxisMax(mPan[1]);
    mRenderer.setYAxisMin(0);
    mRenderer.setXTitle(Statistics.axisLabels[0]);
    mRenderer.setYTitle(Statistics.axisLabels[1]);
    mRenderer.setBarSpacing(0.4);
    mRenderer.setZoomEnabled(false,false);
    if (Statistics.sSeriesList[0][0] > 100 || Statistics.sSeriesList[0][1] > 100 || Statistics.sSeriesList[0][Statistics.sSeriesList[0].length - 1] > 100) {
      mRenderer.setMargins(new int[]{15,50,25,0});
    }
 else {
      mRenderer.setMargins(new int[]{15,42,25,0});
    }
    mRenderer.setPanEnabled(true,false);
    mRenderer.setPanLimits(mPan);
    mRenderer.setXLabelsAlign(Align.CENTER);
    mRenderer.setYLabelsAlign(Align.RIGHT);
    mChartView=ChartFactory.getCombinedXYChartView(this,mDataset,mRenderer,new String[]{BarChart.TYPE,BarChart.TYPE,BarChart.TYPE,LineChart.TYPE});
    LinearLayout layout=(LinearLayout)findViewById(R.id.chart);
    layout.addView(mChartView,new LayoutParams(LayoutParams.FILL_PARENT,LayoutParams.FILL_PARENT));
  }
 else {
    mChartView.repaint();
  }
  gestureDetector=new GestureDetector(new MyGestureDetector());
  mChartView.setOnTouchListener(new View.OnTouchListener(){
    public boolean onTouch(    View v,    MotionEvent event){
      if (gestureDetector.onTouchEvent(event)) {
        return true;
      }
      return false;
    }
  }
);
  zoom=Statistics.sZoom;
  if (zoom > 0) {
    zoom();
  }
}
