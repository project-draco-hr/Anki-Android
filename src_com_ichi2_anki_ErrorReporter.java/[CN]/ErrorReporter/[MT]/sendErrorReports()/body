{
  final String url=getString(R.string.error_post_url);
  for (int i=0; i < mErrorReports.size(); i++) {
    HashMap<String,String> error=mErrorReports.get(i);
    try {
      String filename=error.get("name");
      String singleLine;
      BufferedReader br=new BufferedReader(new InputStreamReader(openFileInput(filename)));
      List<NameValuePair> pairs=new ArrayList<NameValuePair>();
      pairs.add(new BasicNameValuePair("type","crash-stacktrace"));
      pairs.add(new BasicNameValuePair("groupid",String.valueOf(mNonce)));
      pairs.add(new BasicNameValuePair("id",String.valueOf(i)));
      addTimestamp(pairs);
      while ((singleLine=br.readLine()) != null) {
        int indexOfEquals=singleLine.indexOf('=');
        if (indexOfEquals == -1)         continue;
        String key=singleLine.substring(0,indexOfEquals).toLowerCase();
        String value=singleLine.substring(indexOfEquals + 1,singleLine.length());
        if (key.equals("stacktrace")) {
          StringBuilder sb=new StringBuilder(value);
          while ((singleLine=br.readLine()) != null) {
            sb.append(singleLine);
            sb.append("\n");
          }
          value=sb.toString();
        }
        pairs.add(new BasicNameValuePair(key,value));
      }
      br.close();
      postReport(TYPE_STACKTRACE,i,pairs);
      Log.i(AnkiDroidApp.TAG,"posting error report " + i);
    }
 catch (    Exception ex) {
      Log.e(AnkiDroidApp.TAG,ex.toString());
    }
  }
}
