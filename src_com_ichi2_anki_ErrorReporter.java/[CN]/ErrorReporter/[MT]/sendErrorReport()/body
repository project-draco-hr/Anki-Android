{
  ArrayList<String> files=getErrorFiles();
  for (  String filename : files) {
    try {
      Date ts=new Date();
      TimeZone tz=TimeZone.getDefault();
      String singleLine;
      SimpleDateFormat df1=new SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ss.SSS",Locale.US);
      SimpleDateFormat df2=new SimpleDateFormat("Z",Locale.US);
      df1.setTimeZone(TimeZone.getTimeZone("UTC"));
      String reportsentutc=String.format("%s",df1.format(ts));
      String reportsenttzoffset=String.format("%s",df2.format(ts));
      String reportsenttz=String.format("%s",tz.getID());
      BufferedReader br=new BufferedReader(new InputStreamReader(openFileInput(filename)));
      List<NameValuePair> pairs=new ArrayList<NameValuePair>();
      pairs.add(new BasicNameValuePair("reportsentutc",reportsentutc));
      pairs.add(new BasicNameValuePair("reportsenttzoffset",reportsenttzoffset));
      pairs.add(new BasicNameValuePair("reportsenttz",reportsenttz));
      while ((singleLine=br.readLine()) != null) {
        int indexOfEquals=singleLine.indexOf('=');
        if (indexOfEquals == -1)         continue;
        String key=singleLine.substring(0,indexOfEquals).toLowerCase();
        String value=singleLine.substring(indexOfEquals + 1,singleLine.length());
        if (key.equals("stacktrace")) {
          StringBuilder sb=new StringBuilder(value);
          while ((singleLine=br.readLine()) != null) {
            sb.append(singleLine);
            sb.append("\n");
          }
          value=sb.toString();
        }
        pairs.add(new BasicNameValuePair(key,value));
      }
      br.close();
      postReport(pairs);
    }
 catch (    Exception ex) {
      Log.e(AnkiDroidApp.TAG,ex.toString());
    }
  }
}
