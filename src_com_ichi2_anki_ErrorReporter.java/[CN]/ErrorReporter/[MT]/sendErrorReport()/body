{
  ArrayList<String> files=getErrorFiles();
  for (  String filename : files) {
    try {
      String singleLine;
      SimpleDateFormat df1=new SimpleDateFormat("EEE MMM dd HH:mm:ss ",Locale.US);
      SimpleDateFormat df2=new SimpleDateFormat(" yyyy",Locale.US);
      Date ts=new Date();
      TimeZone tz=TimeZone.getDefault();
      BufferedReader br=new BufferedReader(new InputStreamReader(openFileInput(filename)));
      List<NameValuePair> pairs=new ArrayList<NameValuePair>();
      pairs.add(new BasicNameValuePair("reportsent",String.format("%s%s%s",df1.format(ts),tz.getID(),df2.format(ts))));
      while ((singleLine=br.readLine()) != null) {
        int indexOfEquals=singleLine.indexOf('=');
        if (indexOfEquals == -1)         continue;
        String key=singleLine.substring(0,indexOfEquals).toLowerCase();
        String value=singleLine.substring(indexOfEquals + 1,singleLine.length());
        if (key.equals("stacktrace")) {
          StringBuilder sb=new StringBuilder(value);
          while ((singleLine=br.readLine()) != null) {
            sb.append(singleLine);
            sb.append("\n");
          }
          value=sb.toString();
        }
        pairs.add(new BasicNameValuePair(key,value));
      }
      br.close();
      postReport(pairs);
    }
 catch (    Exception ex) {
      Log.e(AnkiDroidApp.TAG,ex.toString());
    }
  }
}
