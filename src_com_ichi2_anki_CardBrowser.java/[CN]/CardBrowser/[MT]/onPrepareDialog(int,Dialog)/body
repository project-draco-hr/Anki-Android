{
  Resources res=getResources();
  StyledDialog ad=(StyledDialog)dialog;
switch (id) {
case DIALOG_CONTEXT_MENU:
    HashMap<String,String> card=mCards.get(mPositionInCardsList);
  int flags=Integer.parseInt(card.get("flags"));
if (flags == 2 || flags == 3) {
  ad.changeListItem(CONTEXT_MENU_MARK,res.getString(R.string.card_browser_unmark_card));
  mIsMarked=true;
  Log.i(AnkiDroidApp.TAG,"Selected Card is currently marked");
}
 else {
  ad.changeListItem(CONTEXT_MENU_MARK,res.getString(R.string.card_browser_mark_card));
  mIsMarked=false;
}
if (flags == 1 || flags == 3) {
ad.changeListItem(CONTEXT_MENU_SUSPEND,res.getString(R.string.card_browser_unsuspend_card));
mIsSuspended=true;
Log.i(AnkiDroidApp.TAG,"Selected Card is currently suspended");
}
 else {
ad.changeListItem(CONTEXT_MENU_SUSPEND,res.getString(R.string.card_browser_suspend_card));
mIsSuspended=false;
}
ad.setTitle(card.get("sfld"));
break;
}
}
