{
  if (mCurrentTheme == -1) {
    SharedPreferences preferences=PrefSettings.getSharedPrefs(context);
    mCurrentTheme=Integer.parseInt(preferences.getString("theme","2"));
switch (mCurrentTheme) {
case THEME_DEFAULT:
      mDialogBackgroundColor=R.color.card_browser_background;
    mCardbrowserItemBorder=new int[]{0,R.color.card_browser_marked,R.color.card_browser_suspended,R.color.card_browser_marked};
  mChartColors=new int[]{android.R.color.white,android.R.color.black};
break;
case THEME_ANDROID_LIGHT:
mProgressbarsBackgroundColor=R.color.studyoptions_progressbar_background_light;
mProgressbarsFrameColor=R.color.studyoptions_progressbar_frame_light;
mProgressbarsMatureColor=R.color.studyoptions_progressbar_mature_light;
mProgressbarsYoungColor=R.color.studyoptions_progressbar_young_light;
mProgressbarsDeckpickerYoungColor=R.color.deckpicker_progressbar_young_light;
mDialogBackgroundColor=R.color.card_browser_background;
mCardbrowserItemBorder=new int[]{0,R.color.card_browser_marked,R.color.card_browser_suspended,R.color.card_browser_marked};
mReviewerProgressbar=mProgressbarsYoungColor;
mChartColors=new int[]{Color.parseColor("#000000"),Color.parseColor("#ffffff")};
break;
case THEME_BLUE:
mProgressbarsBackgroundColor=R.color.studyoptions_progressbar_background_blue;
mProgressbarsFrameColor=R.color.studyoptions_progressbar_frame_light;
mProgressbarsMatureColor=R.color.studyoptions_progressbar_mature_light;
mProgressbarsYoungColor=R.color.studyoptions_progressbar_young_blue;
mProgressbarsDeckpickerYoungColor=R.color.deckpicker_progressbar_young_light;
mReviewerBackground=R.color.reviewer_background;
mFlashcardBorder=R.drawable.blue_bg_webview;
mDeckpickerItemBorder=R.drawable.blue_bg_deckpicker;
mTitleStyle=R.drawable.blue_title;
mTextViewStyle=R.drawable.blue_textview;
mWallpaper=R.drawable.blue_background;
mBackgroundColor=R.color.background_blue;
mToastBackground=R.drawable.blue_toast_frame;
mDialogBackgroundColor=R.color.background_dialog_blue;
mBackgroundDarkColor=R.color.background_dark_blue;
mReviewerProgressbar=R.color.reviewer_progressbar_session_blue;
mCardbrowserItemBorder=new int[]{R.drawable.blue_bg_cardbrowser,R.drawable.blue_bg_cardbrowser_marked,R.drawable.blue_bg_cardbrowser_suspended,R.drawable.blue_bg_cardbrowser_marked_suspended};
mChartColors=new int[]{Color.parseColor("#000000"),Color.parseColor("#ffffff")};
break;
}
}
switch (mCurrentTheme) {
case THEME_DEFAULT:
break;
case THEME_ANDROID_LIGHT:
context.setTheme(android.R.style.Theme_Light);
break;
case THEME_BLUE:
context.setTheme(R.style.Theme_Blue);
break;
}
}
