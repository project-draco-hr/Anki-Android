{
  long start, start2;
  Deck deck=params[0].getDeck();
  Card oldCard=params[0].getCard();
  int ease=params[0].getInt();
  Card newCard;
  start2=System.currentTimeMillis();
  AnkiDb ankiDB=AnkiDatabaseManager.getDatabase(deck.deckPath);
  ankiDB.database.beginTransaction();
  try {
    if (oldCard != null) {
      start=System.currentTimeMillis();
      deck.answerCard(oldCard,ease);
      Log.w(TAG,"doInBackgroundAnswerCard - Answered card in " + (System.currentTimeMillis() - start) + " ms.");
    }
    start=System.currentTimeMillis();
    newCard=deck.getCard();
    Log.w(TAG,"doInBackgroundAnswerCard - Loaded new card in " + (System.currentTimeMillis() - start) + " ms.");
    start=System.currentTimeMillis();
    publishProgress(new TaskData(newCard));
    Log.w(TAG,"doInBackgroundAnswerCard - published progress in " + (System.currentTimeMillis() - start) + " ms.");
    start=System.currentTimeMillis();
    ankiDB.database.setTransactionSuccessful();
    Log.w(TAG,"doInBackgroundAnswerCard - set transaction successful in " + (System.currentTimeMillis() - start) + " ms.");
  }
  finally {
    start=System.currentTimeMillis();
    ankiDB.database.endTransaction();
    Log.w(TAG,"doInBackgroundAnswerCard - end transaction in " + (System.currentTimeMillis() - start) + " ms.");
  }
  Log.e(TAG,"doInBackgroundAnswerCard - DB operations in " + (System.currentTimeMillis() - start2) + " ms.");
  return null;
}
