{
  String deckFilename=params[0].getString();
  Deck oldDeck=params[0].getDeck();
  if (oldDeck != null) {
    oldDeck.closeDeck(false);
  }
  Log.i(AnkiDroidApp.TAG,"doInBackgroundLoadDeck - deckFilename = " + deckFilename);
  Log.i(AnkiDroidApp.TAG,"loadDeck - SD card mounted and existent file -> Loading deck...");
  try {
    Deck deck=Deck.openDeck(deckFilename);
    Log.i(AnkiDroidApp.TAG,"Deck loaded!");
    return new TaskData(DECK_LOADED,deck,null);
  }
 catch (  SQLException e) {
    Log.i(AnkiDroidApp.TAG,"The database " + deckFilename + " could not be opened = "+ e.getMessage());
    return new TaskData(DECK_NOT_LOADED);
  }
catch (  CursorIndexOutOfBoundsException e) {
    Log.i(AnkiDroidApp.TAG,"The deck has no cards = " + e.getMessage());
    return new TaskData(DECK_EMPTY);
  }
}
