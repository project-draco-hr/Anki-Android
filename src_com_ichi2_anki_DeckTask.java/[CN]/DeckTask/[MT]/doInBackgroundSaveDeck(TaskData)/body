{
  Deck deck=params[0].getDeck();
  if (deck != null) {
    try {
      deck.commitToDB();
      deck.updateCutoff();
      if (deck.hasFinishScheduler()) {
        deck.finishScheduler();
      }
      deck.reset();
    }
 catch (    SQLiteDiskIOException e) {
      Log.e(AnkiDroidApp.TAG,"Error on saving deck in background: " + e);
    }
  }
  return null;
}
