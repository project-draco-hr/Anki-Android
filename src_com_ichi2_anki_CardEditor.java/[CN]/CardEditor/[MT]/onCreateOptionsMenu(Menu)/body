{
  MenuItem item;
  Resources res=getResources();
  Lookup.initialize(this,mDeck.getDeckPath());
  item=menu.add(Menu.NONE,MENU_LOOKUP,Menu.NONE,Lookup.getSearchStringTitle());
  item.setIcon(R.drawable.ic_menu_search);
  item.setEnabled(Lookup.isAvailable());
  item=menu.add(Menu.NONE,MENU_RESET,Menu.NONE,res.getString(R.string.card_editor_reset));
  item.setIcon(R.drawable.ic_menu_revert);
  if (!mAddFact) {
    item=menu.add(Menu.NONE,MENU_ADD_CARD,Menu.NONE,res.getString(R.string.card_editor_add_card));
    item.setIcon(R.drawable.ic_menu_add);
  }
  item=menu.add(Menu.NONE,MENU_COPY_CARD,Menu.NONE,res.getString(R.string.card_editor_copy_card));
  item.setIcon(R.drawable.ic_menu_upload);
  if (!mAddFact) {
    item=menu.add(Menu.NONE,MENU_RESET_CARD_PROGRESS,Menu.NONE,res.getString(R.string.card_editor_reset_card));
    item.setIcon(R.drawable.ic_menu_delete);
  }
  return true;
}
