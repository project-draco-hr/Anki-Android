{
  mDeckPath=DeckManager.getDeckPathAfterDeckSelectionDialog(item);
  mDeck=DeckManager.getDeck(mDeckPath,DeckManager.REQUESTING_ACTIVITY_CARDEDITOR);
  if (mDeck == null) {
    Log.e(AnkiDroidApp.TAG,"CardEditor: error on opening deck");
    Themes.showThemedToast(CardEditor.this,getResources().getString(R.string.fact_adder_deck_not_loaded),true);
    BackupManager.restoreDeckIfMissing(mDeckPath);
    return;
  }
  mModelButtons.setVisibility(View.VISIBLE);
  mSave.setVisibility(View.VISIBLE);
  mCancel.setVisibility(View.VISIBLE);
  mTags.setVisibility(View.VISIBLE);
  mFieldsLayoutContainer.setVisibility(View.VISIBLE);
  setTitle(mDeck.getDeckName());
  loadContents();
}
