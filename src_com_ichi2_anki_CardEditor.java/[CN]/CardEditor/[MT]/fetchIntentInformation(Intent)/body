{
  Bundle extras=intent.getExtras();
  if (ACTION_CREATE_FLASHCARD.equals(intent.getAction())) {
    mSourceText=new String[2];
    mSourceText[0]=extras.getString(SOURCE_TEXT);
    mSourceText[1]=extras.getString(TARGET_TEXT);
  }
 else {
    String first;
    String second;
    if (extras.getString(Intent.EXTRA_SUBJECT) != null) {
      first=extras.getString(Intent.EXTRA_SUBJECT);
    }
 else {
      first="";
    }
    if (extras.getString(Intent.EXTRA_TEXT) != null) {
      second=extras.getString(Intent.EXTRA_TEXT);
    }
 else {
      second="";
    }
    Pair<String,String> messages=new Pair<String,String>(first,second);
    Pair<String,String> cleanMessages=new FilterFacade(getBaseContext()).filter(messages);
    mSourceText=new String[2];
    mSourceText[0]=cleanMessages.first;
    mSourceText[1]=cleanMessages.second;
  }
}
