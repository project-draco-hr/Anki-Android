{
switch (item.getItemId()) {
case android.R.id.home:
    closeCardEditorWithCheck();
  return true;
case R.id.action_save:
saveNote();
return true;
case R.id.action_preview:
openReviewer();
return true;
case R.id.action_later:
String content=getFieldsText();
if (content.length() > mEditFields.size() - 1) {
MetaDB.saveIntentInformation(CardEditor.this,content);
populateEditFields();
mSourceText=null;
Themes.showThemedToast(CardEditor.this,getResources().getString(R.string.CardEditorLaterMessage),false);
}
if (mCaller == CALLER_INDICLASH || mCaller == CALLER_CARDEDITOR_INTENT_ADD) {
closeCardEditor();
}
return true;
case R.id.action_add_card_from_card_editor:
case R.id.action_copy_card:
Intent intent=new Intent(CardEditor.this,CardEditor.class);
intent.putExtra(EXTRA_CALLER,CALLER_CARDEDITOR);
if (item.getItemId() == R.id.action_copy_card) {
intent.putExtra(EXTRA_CONTENTS,getFieldsText());
}
startActivityForResultWithAnimation(intent,REQUEST_ADD,ActivityTransitionAnimation.LEFT);
return true;
case R.id.action_reset_card_progress:
showDialog(DIALOG_RESET_CARD);
return true;
case R.id.action_saved_notes:
showDialog(DIALOG_INTENT_INFORMATION);
return true;
case R.id.action_reschedule_card:
showDialog(DIALOG_RESCHEDULE_CARD);
return true;
default :
return super.onOptionsItemSelected(item);
}
}
