{
  Dialog dialog;
  Resources res=getResources();
  AlertDialog.Builder builder=new AlertDialog.Builder(this);
switch (id) {
case DIALOG_NO_SDCARD:
    builder.setMessage("The SD card could not be read. Please, turn off USB storage.");
  builder.setPositiveButton("OK",null);
dialog=builder.create();
break;
case DIALOG_USER_NOT_LOGGED_IN:
builder.setTitle(res.getString(R.string.connection_error_title));
builder.setIcon(android.R.drawable.ic_dialog_alert);
builder.setMessage(res.getString(R.string.no_user_password_error_message));
builder.setPositiveButton(res.getString(R.string.log_in),new DialogInterface.OnClickListener(){
@Override public void onClick(DialogInterface dialog,int which){
Intent myAccount=new Intent(DeckPicker.this,MyAccount.class);
startActivity(myAccount);
}
}
);
builder.setNegativeButton(res.getString(R.string.cancel),null);
dialog=builder.create();
break;
case DIALOG_NO_CONNECTION:
builder.setTitle(res.getString(R.string.connection_error_title));
builder.setIcon(android.R.drawable.ic_dialog_alert);
builder.setMessage(res.getString(R.string.connection_needed));
builder.setPositiveButton(res.getString(R.string.ok),null);
dialog=builder.create();
break;
case DIALOG_DELETE_DECK:
builder.setTitle(res.getString(R.string.delete_deck_title));
builder.setIcon(android.R.drawable.ic_dialog_alert);
builder.setMessage(String.format(res.getString(R.string.delete_deck_message),mRemoveDeckFilename));
builder.setPositiveButton(res.getString(R.string.delete_deck_confirm),new DialogInterface.OnClickListener(){
@Override public void onClick(DialogInterface dialog,int which){
removeDeck(mRemoveDeckPath);
mRemoveDeckPath=null;
mRemoveDeckFilename=null;
}
}
);
builder.setNegativeButton(res.getString(R.string.cancel),new DialogInterface.OnClickListener(){
@Override public void onClick(DialogInterface dialog,int which){
mRemoveDeckPath=null;
mRemoveDeckFilename=null;
}
}
);
builder.setOnCancelListener(new DialogInterface.OnCancelListener(){
@Override public void onCancel(DialogInterface dialog){
mRemoveDeckPath=null;
mRemoveDeckFilename=null;
}
}
);
dialog=builder.create();
break;
case DIALOG_SELECT_STATISTICS_TYPE:
builder.setTitle(res.getString(R.string.statistics_type_title));
builder.setIcon(android.R.drawable.ic_menu_sort_by_size);
builder.setSingleChoiceItems(getResources().getStringArray(R.array.statistics_type_labels),Statistics.TYPE_DUE,mStatisticListener);
dialog=builder.create();
break;
case DIALOG_SELECT_STATISTICS_PERIOD:
builder.setTitle(res.getString(R.string.statistics_period_title));
builder.setIcon(android.R.drawable.ic_menu_sort_by_size);
builder.setSingleChoiceItems(getResources().getStringArray(R.array.statistics_period_labels),0,mStatisticListener);
dialog=builder.create();
break;
default :
dialog=null;
}
return dialog;
}
