{
  String deckFilename=null;
  waitForDeckLoaderThread();
  @SuppressWarnings("unchecked") HashMap<String,String> data=(HashMap<String,String>)mDeckListAdapter.getItem(id);
  deckFilename=data.get("filepath");
  if (deckFilename != null) {
    Log.i(TAG,"Selected " + deckFilename);
    Intent intent=this.getIntent();
    intent.putExtra(AnkiDroid.OPT_DB,deckFilename);
    setResult(RESULT_OK,intent);
    finish();
  }
}
