{
  Deck loadedDeck=AnkiDroidApp.deck();
  if (!(loadedDeck != null && loadedDeck == deck)) {
    try {
      deck.closeDeck(true);
    }
 catch (    SQLiteException e) {
      Log.e(AnkiDroidApp.TAG,"Error while closing " + deck.name() + ": "+ e);
    }
  }
}
