{
  AdapterContextMenuInfo info=(AdapterContextMenuInfo)item.getMenuInfo();
  waitForDeckLoaderThread();
  @SuppressWarnings("unchecked") HashMap<String,String> data=(HashMap<String,String>)mDeckListAdapter.getItem(info.position);
switch (item.getItemId()) {
case R.id.delete_deck:
    mRemoveDeckPath=null;
  mRemoveDeckPath=data.get("filepath");
showDialog(DIALOG_DELETE_DECK);
return true;
case R.id.reset_language:
resetDeckLanguages(data.get("filepath"));
return true;
case R.id.optimize_deck:
String deckPath=data.get("filepath");
Deck deck=Deck.openDeck(deckPath);
DeckTask.launchDeckTask(DeckTask.TASK_TYPE_OPTIMIZE_DECK,mOptimizeDeckHandler,new DeckTask.TaskData(deck,null));
return true;
default :
return super.onContextItemSelected(item);
}
}
