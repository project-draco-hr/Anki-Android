{
  super.onCollectionLoaded(col);
  Boolean started=BackupManager.performBackupInBackground(col.getPath());
  if (started) {
  }
  if (mFragmented) {
    long did=col.getDecks().selected();
    selectDeck(did);
  }
  Intent intent=getIntent();
  if (AnkiDroidApp.colIsOpen() && mImportPath != null) {
    if (mHandler == null) {
      mHandler=new DialogHandler(this);
    }
    if (mImportPath.split("/")[mImportPath.split("/").length - 1].equals("collection.apkg")) {
      mHandler.sendEmptyMessage(MSG_SHOW_COLLECTION_IMPORT_REPLACE_DIALOG);
    }
 else {
      mHandler.sendEmptyMessage(MSG_SHOW_COLLECTION_IMPORT_ADD_DIALOG);
    }
  }
 else   if (intent != null && intent.getExtras() != null && intent.getExtras().getBoolean("showAsyncDialogFragment")) {
    Message m=Message.obtain();
    m.what=MSG_SHOW_ASYNC_DIALOG;
    m.setData(getIntent().getExtras());
    mHandler.sendMessage(m);
  }
  if (!mFragmented) {
    mShowShowcaseView=true;
  }
  AnkiDroidApp.getCompat().invalidateOptionsMenu(this);
  loadCounts();
}
