{
  if (mUnmountReceiver == null) {
    mUnmountReceiver=new BroadcastReceiver(){
      @Override public void onReceive(      Context context,      Intent intent){
        String action=intent.getAction();
        if (action.equals(Intent.ACTION_MEDIA_UNMOUNTED)) {
          Log.i(AnkiDroidApp.TAG,"DeckPicker - mUnmountReceiver, Action = Media Unmounted");
          SharedPreferences preferences=PrefSettings.getSharedPrefs(getBaseContext());
          String deckPath=preferences.getString("deckPath",AnkiDroidApp.getStorageDirectory());
          populateDeckList(deckPath);
        }
 else         if (action.equals(Intent.ACTION_MEDIA_MOUNTED)) {
          Log.i(AnkiDroidApp.TAG,"DeckPicker - mUnmountReceiver, Action = Media Mounted");
          SharedPreferences preferences=PrefSettings.getSharedPrefs(getBaseContext());
          String deckPath=preferences.getString("deckPath",AnkiDroidApp.getStorageDirectory());
          mDeckIsSelected=false;
          setTitleText();
          populateDeckList(deckPath);
        }
      }
    }
;
    IntentFilter iFilter=new IntentFilter();
    iFilter.addAction(Intent.ACTION_MEDIA_UNMOUNTED);
    iFilter.addAction(Intent.ACTION_MEDIA_MOUNTED);
    iFilter.addDataScheme("file");
    registerReceiver(mUnmountReceiver,iFilter);
  }
}
