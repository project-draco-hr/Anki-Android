{
  getMenuInflater().inflate(R.menu.deck_picker,menu);
  boolean sdCardAvailable=AnkiDroidApp.isSdCardMounted();
  menu.findItem(R.id.action_sync).setEnabled(sdCardAvailable);
  menu.findItem(R.id.action_new_deck).setEnabled(sdCardAvailable);
  menu.findItem(R.id.action_new_filtered_deck).setEnabled(sdCardAvailable);
  menu.findItem(R.id.action_check_database).setEnabled(sdCardAvailable);
  menu.findItem(R.id.action_check_media).setEnabled(sdCardAvailable);
  if (mShowShowcaseView && colOpen() && getCol().isEmpty()) {
    mShowShowcaseView=false;
    final Resources res=getResources();
    ActionItemTarget target=new ActionItemTarget(this,R.id.action_add_decks);
    mShowcaseDialog=new ShowcaseView.Builder(this).setTarget(target).setContentTitle(res.getString(R.string.studyoptions_welcome_title)).setStyle(R.style.ShowcaseView_Light).setShowcaseEventListener(this).setOnClickListener(new OnClickListener(){
      @Override public void onClick(      View v){
        mShowcaseDialog.hide();
        Intent helpIntent=new Intent("android.intent.action.VIEW",Uri.parse(res.getString(R.string.link_manual_getting_started)));
        startActivityWithoutAnimation(helpIntent);
      }
    }
).setContentText(res.getString(R.string.add_content_showcase_text)).hideOnTouchOutside().build();
    mShowcaseDialog.setButtonText(getResources().getString(R.string.help_title));
  }
 else   if (mShowcaseDialog != null && colOpen() && !getCol().isEmpty()) {
    hideShowcaseView();
  }
  if (AnkiDroidApp.isChromebook()) {
    menu.findItem(R.id.action_restore_backup).setVisible(false);
    menu.findItem(R.id.action_import).setVisible(false);
    menu.findItem(R.id.action_export).setVisible(false);
  }
  return super.onCreateOptionsMenu(menu);
}
