{
  HttpResponse ret;
  if (data != null) {
    ret=super.req(cmd,data);
  }
 else {
    ret=super.req(cmd);
  }
  try {
    int resultType=HttpSyncer.getReturnType(ret);
    String s="";
    if (resultType == 200) {
      BufferedReader rd=new BufferedReader(new InputStreamReader(ret.getEntity().getContent(),"UTF-8"),4096);
      String line;
      StringBuilder sb=new StringBuilder();
      long size=0;
      while ((line=rd.readLine()) != null) {
        sb.append(line);
        size+=line.length();
      }
      rd.close();
      s=sb.toString();
      if (!s.equalsIgnoreCase("null") && s.length() != 0) {
        JSONObject o=new JSONObject(s);
        if (cmd.equals("chunk")) {
          o.put("rSize",size);
        }
        return o;
      }
    }
    JSONObject o=new JSONObject();
    o.put("errorType",HttpSyncer.getReturnType(ret));
    o.put("errorReason",s.equals("null") ? "null result" : HttpSyncer.getReason(ret));
    return o;
  }
 catch (  IllegalStateException e) {
    throw new RuntimeException(e);
  }
catch (  IOException e) {
    throw new RuntimeException(e);
  }
catch (  JSONException e) {
    throw new RuntimeException(e);
  }
}
