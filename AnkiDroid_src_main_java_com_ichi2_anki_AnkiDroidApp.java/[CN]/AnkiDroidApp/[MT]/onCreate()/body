{
  super.onCreate();
  SharedPreferences preferences=getSharedPrefs(this);
  ACRA.init(this);
  if (BuildConfig.DEBUG) {
    Timber.plant(new Timber.DebugTree());
    setAcraReportingMode(FEEDBACK_REPORT_NEVER);
    String[] logcatArgs={"-t","300","-v","long","ACRA:S"};
    ACRA.getConfig().setLogcatArguments(logcatArgs);
  }
 else {
    Timber.plant(new ProductionCrashReportingTree());
    setAcraReportingMode(preferences.getString("reportErrorMode",FEEDBACK_REPORT_ASK));
  }
  Timber.tag(TAG);
  if (isNookHdOrHdPlus() && SDK_VERSION == 15) {
    mCompat=new CompatV15NookHdOrHdPlus();
  }
 else   if (SDK_VERSION >= 16) {
    mCompat=new CompatV16();
  }
 else   if (SDK_VERSION >= 15) {
    mCompat=new CompatV15();
  }
 else   if (SDK_VERSION >= 12) {
    mCompat=new CompatV12();
  }
 else   if (SDK_VERSION >= 9) {
    mCompat=new CompatV9();
  }
 else   if (SDK_VERSION >= 8) {
    mCompat=new CompatV8();
  }
 else   if (isNook() && SDK_VERSION == 7) {
    mCompat=new CompatV7Nook();
  }
 else {
    mCompat=new CompatV7();
  }
  sInstance=this;
  sInstance.mHooks=new Hooks(preferences);
  setLanguage(preferences.getString(Preferences.LANGUAGE,""));
  mCompat.enableCookiesForFileSchemePages();
  final ViewConfiguration vc=ViewConfiguration.get(this);
  if (SDK_VERSION >= 8) {
    DEFAULT_SWIPE_MIN_DISTANCE=vc.getScaledPagingTouchSlop();
  }
 else {
    DEFAULT_SWIPE_MIN_DISTANCE=vc.getScaledTouchSlop() * 2;
  }
  DEFAULT_SWIPE_THRESHOLD_VELOCITY=vc.getScaledMinimumFlingVelocity();
  initializeAnkiDroidDirectory();
}
