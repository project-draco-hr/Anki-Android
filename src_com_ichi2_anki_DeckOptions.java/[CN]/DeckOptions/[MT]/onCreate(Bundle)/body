{
  super.onCreate(icicle);
  mCol=Collection.currentCollection();
  if (mCol == null) {
    finish();
    return;
  }
  mDeck=mCol.getDecks().current();
  registerExternalStorageListener();
  if (mCol == null) {
    Log.i(AnkiDroidApp.TAG,"DeckOptions - No Collection loaded");
    finish();
    return;
  }
 else {
    mPref=new DeckPreferenceHack();
    mPref.registerOnSharedPreferenceChangeListener(this);
    this.addPreferencesFromResource(R.xml.deck_options);
    this.buildLists();
    this.updateSummaries();
  }
}
