{
  if (random <= p[0])   return 0;
  if (random <= p[1])   return 1;
  if (random <= p[2])   return 2;
  return 3;
}
