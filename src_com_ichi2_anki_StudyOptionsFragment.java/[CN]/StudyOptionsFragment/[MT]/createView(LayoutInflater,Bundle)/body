{
  super.onCreate(savedInstanceState);
  Log.i(AnkiDroidApp.TAG,"StudyOptions - createView()");
  restorePreferences();
  mFragmented=getActivity().getClass() != StudyOptionsActivity.class;
  if (!AnkiDroidApp.colIsOpen()) {
    reloadCollection();
    return null;
  }
  initAllContentViews(inflater);
  if (mSwipeEnabled) {
    gestureDetector=new GestureDetector(new MyGestureDetector());
    gestureListener=new View.OnTouchListener(){
      public boolean onTouch(      View v,      MotionEvent event){
        if (gestureDetector.onTouchEvent(event)) {
          return true;
        }
        return false;
      }
    }
;
  }
  if (getArguments().getBoolean("onlyFnsMsg")) {
    prepareCongratsView();
    return mCongratsView;
  }
 else {
    AnkiDroidApp.getCol().clearUndo();
  }
  mCramInitialConfig=getArguments().getBundle("cramInitialConfig");
  resetAndUpdateValuesFromDeck();
  setHasOptionsMenu(true);
  return mStudyOptionsView;
}
