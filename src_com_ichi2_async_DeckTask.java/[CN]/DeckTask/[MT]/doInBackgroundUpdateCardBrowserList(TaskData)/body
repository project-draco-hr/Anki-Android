{
  Log.i(AnkiDroidApp.TAG,"doInBackgroundSortCards");
  if (params.length == 1) {
    Comparator comparator=params[0].getComparator();
    ArrayList<HashMap<String,String>> card=params[0].getCards();
    Collections.sort(card,comparator);
  }
 else {
    ArrayList<HashMap<String,String>> allCard=params[0].getCards();
    ArrayList<HashMap<String,String>> cards=params[1].getCards();
    HashSet<String> tags=(HashSet<String>)params[2].getObjArray()[0];
    cards.clear();
    for (int i=0; i < allCard.size(); i++) {
      HashMap<String,String> card=allCard.get(i);
      if (Arrays.asList(card.get("tags").split("\\s")).containsAll(tags)) {
        cards.add(allCard.get(i));
      }
    }
  }
  return null;
}
