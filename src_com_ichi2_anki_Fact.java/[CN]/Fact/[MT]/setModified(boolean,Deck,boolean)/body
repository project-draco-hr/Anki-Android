{
  mModified=Utils.now();
  if (textChanged) {
    assert(deck != null);
    mCache="";
    StringBuilder str=new StringBuilder(1024);
    for (    Field f : getFields()) {
      str.append(f.getValue()).append(" ");
    }
    mCache=str.toString();
    mCache.substring(0,mCache.length() - 1);
    mCache=Utils.stripHTMLMedia(mCache);
    Log.d(AnkiDroidApp.TAG,"cache = " + mCache);
    for (    Card card : getUpdatedRelatedCards()) {
      card.setModified();
      card.toDB();
    }
  }
}
