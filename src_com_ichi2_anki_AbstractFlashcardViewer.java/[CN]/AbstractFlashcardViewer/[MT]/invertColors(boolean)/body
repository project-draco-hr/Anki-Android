{
  Resources res=getResources();
  int[] colors=Themes.setNightMode(this,mMainLayout,invert);
  mForegroundColor=colors[0];
  mNextTimeTextColor=mForegroundColor;
  mNextTimeTextRecomColor=colors[1];
  mFlipCard.setTextColor(mForegroundColor);
  mNext4.setTextColor(mNextTimeTextColor);
  mEase4.setTextColor(mNextTimeTextColor);
  mCardTimer.setTextColor(mForegroundColor);
  mTextBarRed.setTextColor(invert ? res.getColor(R.color.night_blue) : res.getColor(R.color.blue));
  mTextBarBlack.setTextColor(invert ? res.getColor(R.color.night_red) : res.getColor(R.color.red));
  mTextBarBlue.setTextColor(invert ? res.getColor(R.color.night_green) : res.getColor(R.color.green));
  mAnswerField.setTextColor(mForegroundColor);
  if (mSimpleCard != null) {
    mSimpleCard.setBackgroundColor(mCurrentBackgroundColor);
    mSimpleCard.setTextColor(mForegroundColor);
  }
  if (mCard != null) {
    mCard.setBackgroundColor(mCurrentBackgroundColor);
  }
  AnkiDroidApp.getCompat().setActionBarBackground(this,invert ? R.color.white_background_night : R.color.actionbar_background);
}
