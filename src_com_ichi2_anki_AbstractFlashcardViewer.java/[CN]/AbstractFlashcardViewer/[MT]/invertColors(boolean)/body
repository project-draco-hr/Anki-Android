{
  Resources res=getResources();
  int[] colors=Themes.setNightMode(this,mMainLayout,invert);
  mForegroundColor=colors[0];
  mNextTimeTextColor=mForegroundColor;
  mNextTimeTextRecomColor=colors[1];
  mFlipCard.setTextColor(mForegroundColor);
  mNext4.setTextColor(mNextTimeTextColor);
  mEase4.setTextColor(mNextTimeTextColor);
  mCardTimer.setTextColor(mForegroundColor);
  mTextBarNew.setTextColor(invert ? res.getColor(R.color.new_count_night) : res.getColor(R.color.new_count));
  mTextBarLearn.setTextColor(invert ? res.getColor(R.color.learn_count_night) : res.getColor(R.color.learn_count));
  mTextBarReview.setTextColor(invert ? res.getColor(R.color.review_count_night) : res.getColor(R.color.review_count));
  mAnswerField.setTextColor(mForegroundColor);
  if (mSimpleCard != null) {
    mSimpleCard.setBackgroundColor(mCurrentBackgroundColor);
    mSimpleCard.setTextColor(mForegroundColor);
  }
  if (mCard != null) {
    mCard.setBackgroundColor(mCurrentBackgroundColor);
  }
  AnkiDroidApp.getCompat().setActionBarBackground(this,invert ? R.color.white_background_night : R.color.actionbar_background);
}
