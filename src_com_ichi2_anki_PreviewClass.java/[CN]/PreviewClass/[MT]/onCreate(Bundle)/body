{
  super.onCreate(savedInstanceState);
  mCurrentCard=CardEditor.mCurrentEditedCard;
  mRefreshWebview=getRefreshWebviewAndInitializeWebviewVariables();
  initLayout(R.layout.flashcard);
  Collection col=AnkiDroidApp.getCol();
  if (col == null) {
    return;
  }
  mGesturesEnabled=AnkiDroidApp.initiateGestures(this,AnkiDroidApp.getSharedPrefs(getBaseContext()));
  mBaseUrl=Utils.getBaseUrl(col.getMedia().getDir());
  try {
    mCardTemplate=Utils.convertStreamToString(getAssets().open("card_template.html"));
  }
 catch (  IOException e) {
    e.printStackTrace();
  }
  PreviewClass.this.displayCardQuestion();
  PreviewClass.this.displayCardAnswer();
}
