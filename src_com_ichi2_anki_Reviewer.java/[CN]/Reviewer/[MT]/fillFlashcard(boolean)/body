{
  if (!flip) {
    mCard.loadDataWithBaseURL(mBaseUrl,mCardContent,"text/html","utf-8",null);
    if (!sDisplayAnswer) {
      updateForNewCard();
      if (mShowWhiteboard) {
        mWhiteboard.clear();
      }
    }
  }
 else {
    Animation3D rotation;
    boolean directionToLeft=true;
switch (mNextAnimation) {
case ANIMATION_TURN:
      rotation=new Animation3D(mCard.getWidth(),mCard.getHeight(),5,Animation3D.ANIMATION_TURN,true,true,this);
    rotation.setDuration(mAnimationDurationTurn);
  rotation.setInterpolator(new AccelerateDecelerateInterpolator());
break;
case ANIMATION_NEXT_CARD_FROM_LEFT:
directionToLeft=false;
case ANIMATION_NEXT_CARD_FROM_RIGHT:
rotation=new Animation3D(mCard.getWidth(),mCard.getHeight(),0,Animation3D.ANIMATION_EXCHANGE_CARD,directionToLeft,true,this);
rotation.setDuration(mAnimationDurationMove);
rotation.setInterpolator(new AccelerateDecelerateInterpolator());
break;
case ANIMATION_SLIDE_OUT_TO_RIGHT:
directionToLeft=false;
case ANIMATION_SLIDE_OUT_TO_LEFT:
mCard.loadDataWithBaseURL(mBaseUrl,mCardContent,"text/html","utf-8",null);
rotation=new Animation3D(mCard.getWidth(),mCard.getHeight(),0,Animation3D.ANIMATION_SLIDE_OUT_CARD,directionToLeft,true,this);
rotation.setDuration(mAnimationDurationMove / 4 * 3);
rotation.setInterpolator(new AccelerateInterpolator());
switchTopBarVisibility(View.INVISIBLE);
break;
case ANIMATION_SLIDE_IN_FROM_LEFT:
directionToLeft=false;
case ANIMATION_SLIDE_IN_FROM_RIGHT:
mCard.loadDataWithBaseURL(mBaseUrl,mCardContent,"text/html","utf-8",null);
rotation=new Animation3D(mCard.getWidth(),mCard.getHeight(),0,Animation3D.ANIMATION_SLIDE_IN_CARD,directionToLeft,true,this);
rotation.setDuration(mAnimationDurationMove / 4 * 3);
rotation.setInterpolator(new DecelerateInterpolator());
switchTopBarVisibility(View.VISIBLE);
break;
case ANIMATION_NO_ANIMATION:
default :
return;
}
setNextCardAnimation(false);
rotation.reset();
mCardContainer.setDrawingCacheEnabled(true);
mCardContainer.setDrawingCacheBackgroundColor(Themes.getBackgroundColor());
mCardContainer.clearAnimation();
mCardContainer.startAnimation(rotation);
}
}
