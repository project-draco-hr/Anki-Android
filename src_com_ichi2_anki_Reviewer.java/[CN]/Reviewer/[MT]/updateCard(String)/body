{
  Log.i(TAG,"updateCard");
  Log.i(TAG,"Initial content card = \n" + content);
  content=Sound.parseSounds(deckFilename,content);
  content=Image.scaleImages(deckFilename,content,mCard.getHeight(),mCard.getWidth(),mScaleInPercent);
  content=content.replace("font-weight:600;","font-weight:700;");
  if (useRubySupport) {
    content=RubyParser.ankiRubyToMarkup(content);
  }
  if (mCurrentCard != null) {
    Deck currentDeck=AnkiDroidApp.deck();
    Model myModel=Model.getModel(currentDeck,mCurrentCard.cardModelId,false);
    content=myModel.getCSSForFontColorSize(mCurrentCard.cardModelId,displayFontSize) + content;
  }
 else {
    mCard.getSettings().setDefaultFontSize(calculateDynamicFontSize(content));
  }
  Log.i(TAG,"content card = \n" + content);
  String card=cardTemplate.replace("::content::",content);
  mCard.loadDataWithBaseURL("file://" + deckFilename.replace(".anki",".media/"),card,"text/html","utf-8",null);
  Sound.playSounds();
}
