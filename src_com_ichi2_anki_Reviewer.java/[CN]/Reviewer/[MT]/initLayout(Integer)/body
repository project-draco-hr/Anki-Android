{
  setContentView(layout);
  mCard=(WebView)findViewById(R.id.flashcard);
  mCard.setScrollBarStyle(WebView.SCROLLBARS_OUTSIDE_OVERLAY);
  mCard.getSettings().setBuiltInZoomControls(true);
  mCard.getSettings().setJavaScriptEnabled(true);
  mCard.setWebViewClient(new AnkiDroidWebViewClient());
  mCard.setWebChromeClient(new AnkiDroidWebChromeClient());
  mCard.addJavascriptInterface(new JavaScriptInterface(),"interface");
  if (Integer.parseInt(android.os.Build.VERSION.SDK) > 7) {
    mCard.setFocusableInTouchMode(false);
  }
  Log.i(AnkiDroidApp.TAG,"Focusable = " + mCard.isFocusable() + ", Focusable in touch mode = "+ mCard.isFocusableInTouchMode());
  if (mPrefTextSelection) {
    mCard.setOnLongClickListener(mLongClickHandler);
    mClipboard=(ClipboardManager)getSystemService(Context.CLIPBOARD_SERVICE);
  }
  mScaleInPercent=mCard.getScale();
  mEase1=(Button)findViewById(R.id.ease1);
  mEase1.setOnClickListener(mSelectEaseHandler);
  mEase2=(Button)findViewById(R.id.ease2);
  mEase2.setOnClickListener(mSelectEaseHandler);
  mEase3=(Button)findViewById(R.id.ease3);
  mEase3.setOnClickListener(mSelectEaseHandler);
  mEase4=(Button)findViewById(R.id.ease4);
  mEase4.setOnClickListener(mSelectEaseHandler);
  mFlipCard=(ToggleButton)findViewById(R.id.flip_card);
  mFlipCard.setChecked(true);
  mFlipCard.setOnCheckedChangeListener(mFlipCardHandler);
  mTextBarRed=(TextView)findViewById(R.id.red_number);
  mTextBarBlack=(TextView)findViewById(R.id.black_number);
  mTextBarBlue=(TextView)findViewById(R.id.blue_number);
  if (mPrefTimer) {
    mCardTimer=(Chronometer)findViewById(R.id.card_time);
  }
  if (mPrefWhiteboard) {
    mWhiteboard=(Whiteboard)findViewById(R.id.whiteboard);
  }
  if (mPrefWriteAnswers) {
    mAnswerField=(EditText)findViewById(R.id.answer_field);
  }
  hideEaseButtons();
  showControls();
}
