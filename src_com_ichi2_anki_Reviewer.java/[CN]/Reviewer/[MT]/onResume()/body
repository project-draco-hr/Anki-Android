{
  super.onResume();
  if (AnkiDroidApp.deck() == null) {
    finish();
  }
  if (mShakeEnabled) {
    mSensorManager.registerListener(mSensorListener,mSensorManager.getDefaultSensor(Sensor.TYPE_ACCELEROMETER),SensorManager.SENSOR_DELAY_NORMAL);
  }
  restartTimer();
  if ((AnkiDroidApp.zeemoteController() != null) && (AnkiDroidApp.zeemoteController().isConnected())) {
    AnkiDroidApp.zeemoteController().addButtonListener(this);
    adapter=new JoystickToButtonAdapter();
    AnkiDroidApp.zeemoteController().addJoystickListener(adapter);
    adapter.addButtonListener(this);
    getWindow().addFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON);
  }
}
