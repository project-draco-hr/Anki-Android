{
  mInBackground=false;
  super.onResume();
  Deck deck=DeckManager.getMainDeck();
  if (deck == null) {
    Log.e(AnkiDroidApp.TAG,"Reviewer: Deck already closed, returning to study options");
    closeReviewer(RESULT_DECK_CLOSED,false);
    return;
  }
  if (DeckManager.deckIsOpenedInBigWidget(deck.getDeckPath()) && mCurrentCard != null && !mInEditor) {
    blockControls();
    AnkiDroidWidgetBig.updateWidget(AnkiDroidWidgetBig.UpdateService.VIEW_NOT_SPECIFIED,true);
    DeckTask.launchDeckTask(DeckTask.TASK_TYPE_ANSWER_CARD,mAnswerCardHandler,new DeckTask.TaskData(0,deck,null));
  }
 else {
    restartTimer();
  }
  if (mShakeEnabled) {
    mSensorManager.registerListener(mSensorListener,mSensorManager.getDefaultSensor(Sensor.TYPE_ACCELEROMETER),SensorManager.SENSOR_DELAY_NORMAL);
  }
  if ((AnkiDroidApp.zeemoteController() != null) && (AnkiDroidApp.zeemoteController().isConnected())) {
    AnkiDroidApp.zeemoteController().addButtonListener(this);
    adapter=new JoystickToButtonAdapter();
    AnkiDroidApp.zeemoteController().addJoystickListener(adapter);
    adapter.addButtonListener(this);
    getWindow().addFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON);
  }
}
