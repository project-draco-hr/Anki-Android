{
  SharedPreferences preferences=PrefSettings.getSharedPrefs(getBaseContext());
  mPrefTimer=preferences.getBoolean("timer",true);
  mPrefWhiteboard=preferences.getBoolean("whiteboard",false);
  mPrefWriteAnswers=preferences.getBoolean("writeAnswers",false);
  mPrefTextSelection=preferences.getBoolean("textSelection",true);
  mLongClickWorkaround=preferences.getBoolean("textSelectionLongclickWorkaround",false);
  mDeckFilename=preferences.getString("deckFilename","");
  mNightMode=preferences.getBoolean("invertedColors",false);
  mInvertedColors=mNightMode;
  mBlackWhiteboard=preferences.getBoolean("blackWhiteboard",true);
  mSwapQA=preferences.getBoolean("swapqa",false);
  mPrefUseRubySupport=preferences.getBoolean("useRubySupport",false);
  mPrefFullscreenReview=preferences.getBoolean("fullscreenReview",true);
  mshowNextReviewTime=preferences.getBoolean("showNextReviewTime",true);
  mZoomEnabled=preferences.getBoolean("zoom",false);
  mDisplayFontSize=preferences.getInt("relativeDisplayFontSize",100);
  mRelativeButtonSize=preferences.getInt("answerButtonSize",100);
  mInputWorkaround=preferences.getBoolean("inputWorkaround",false);
  mPrefFixHebrew=preferences.getBoolean("fixHebrewText",false);
  mPrefFixArabic=preferences.getBoolean("fixArabicText",false);
  mSpeakText=preferences.getBoolean("tts",false);
  mPlaySoundsAtStart=preferences.getBoolean("playSoundsAtStart",true);
  mShowProgressBars=preferences.getBoolean("progressBars",true);
  mPrefUseTimer=preferences.getBoolean("timeoutAnswer",false);
  mWaitAnswerSecond=preferences.getInt("timeoutAnswerSeconds",20);
  mWaitQuestionSecond=preferences.getInt("timeoutQuestionSeconds",60);
  mScrollingButtons=preferences.getBoolean("scrolling_buttons",false);
  mDoubleScrolling=preferences.getBoolean("double_scrolling",false);
  mGesturesEnabled=preferences.getBoolean("swipe",false);
  if (mGesturesEnabled) {
    mGestureShake=Integer.parseInt(preferences.getString("gestureShake","0"));
    if (mGestureShake != 0) {
      mShakeEnabled=true;
    }
    mShakeIntensity=preferences.getInt("minShakeIntensity",70);
    mGestureSwipeUp=Integer.parseInt(preferences.getString("gestureSwipeUp","0"));
    mGestureSwipeDown=Integer.parseInt(preferences.getString("gestureSwipeDown","0"));
    mGestureSwipeLeft=Integer.parseInt(preferences.getString("gestureSwipeLeft","13"));
    mGestureSwipeRight=Integer.parseInt(preferences.getString("gestureSwipeRight","0"));
    mGestureDoubleTap=Integer.parseInt(preferences.getString("gestureDoubleTap","0"));
    mGestureTapLeft=Integer.parseInt(preferences.getString("gestureTapLeft","0"));
    mGestureTapRight=Integer.parseInt(preferences.getString("gestureTapRight","0"));
    mGestureTapTop=Integer.parseInt(preferences.getString("gestureTapTop","0"));
    mGestureTapBottom=Integer.parseInt(preferences.getString("gestureTapBottom","0"));
    mGestureLongclick=Integer.parseInt(preferences.getString("gestureLongclick","0"));
  }
  mShowAnimations=preferences.getBoolean("themeAnimations",false);
  if (mShowAnimations) {
    int animationDuration=preferences.getInt("animationDuration",500);
    mAnimationDurationTurn=animationDuration;
    mAnimationDurationMove=animationDuration;
  }
  mLocale=preferences.getString("language","");
  if (preferences.getBoolean("fixOrientation",false)) {
    if (getResources().getConfiguration().orientation == Configuration.ORIENTATION_LANDSCAPE) {
      setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE);
    }
 else     if (getResources().getConfiguration().orientation == Configuration.ORIENTATION_PORTRAIT) {
      setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);
    }
  }
  if (preferences.getBoolean("keepScreenOn",false)) {
    this.getWindow().addFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON);
  }
  mSimpleInterface=preferences.getBoolean("simpleInterface",false);
  return preferences;
}
