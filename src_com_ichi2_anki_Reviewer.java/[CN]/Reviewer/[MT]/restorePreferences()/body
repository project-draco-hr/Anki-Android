{
  SharedPreferences preferences=PrefSettings.getSharedPrefs(getBaseContext());
  prefTimer=preferences.getBoolean("timer",true);
  prefWhiteboard=preferences.getBoolean("whiteboard",true);
  prefWriteAnswers=preferences.getBoolean("writeAnswers",false);
  deckFilename=preferences.getString("deckFilename","");
  useRubySupport=preferences.getBoolean("useRubySupport",false);
  notificationBar=preferences.getBoolean("notificationBar",false);
  displayFontSize=Integer.parseInt(preferences.getString("displayFontSize","100"));
  hideQuestionInAnswer=Integer.parseInt(preferences.getString("hideQuestionInAnswer",Integer.toString(HQIA_DO_SHOW)));
  updateNotifications=preferences.getBoolean("enabled",true);
  if (mFlipCard != null) {
    if (mFlipCard.isChecked()) {
      displayCardAnswer();
    }
 else {
      displayCardQuestion();
    }
  }
  return preferences;
}
