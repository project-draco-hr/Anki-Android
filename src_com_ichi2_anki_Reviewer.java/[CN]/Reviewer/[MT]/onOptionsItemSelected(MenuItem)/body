{
switch (item.getItemId()) {
case MENU_WHITEBOARD:
    mShowWhiteboard=!mShowWhiteboard;
  if (mShowWhiteboard) {
    mWhiteboard.setVisibility(View.VISIBLE);
    item.setTitle(R.string.hide_whiteboard);
    MetaDB.storeWhiteboardState(this,mDeckFilename,1);
  }
 else {
    mWhiteboard.setVisibility(View.GONE);
    item.setTitle(R.string.show_whiteboard);
    MetaDB.storeWhiteboardState(this,mDeckFilename,0);
  }
return true;
case MENU_CLEAR_WHITEBOARD:
mWhiteboard.clear();
return true;
case MENU_EDIT:
return editCard();
case MENU_REMOVE_BURY:
setNextCardAnimation(false);
DeckTask.launchDeckTask(DeckTask.TASK_TYPE_BURY_CARD,mDismissCardHandler,new DeckTask.TaskData(0,AnkiDroidApp.deck(),mCurrentCard));
return true;
case MENU_REMOVE_SUSPEND:
setNextCardAnimation(false);
DeckTask.launchDeckTask(DeckTask.TASK_TYPE_SUSPEND_CARD,mDismissCardHandler,new DeckTask.TaskData(0,AnkiDroidApp.deck(),mCurrentCard));
return true;
case MENU_REMOVE_DELETE:
showDeleteCardDialog();
return true;
case MENU_SEARCH:
return lookUp();
case MENU_MARK:
DeckTask.launchDeckTask(DeckTask.TASK_TYPE_MARK_CARD,mMarkCardHandler,new DeckTask.TaskData(0,AnkiDroidApp.deck(),mCurrentCard));
return true;
case MENU_UNDO:
setNextCardAnimation(true);
DeckTask.launchDeckTask(DeckTask.TASK_TYPE_UNDO,mUpdateCardHandler,new DeckTask.TaskData(0,AnkiDroidApp.deck(),mCurrentCard.getId(),false));
return true;
case MENU_REDO:
DeckTask.launchDeckTask(DeckTask.TASK_TYPE_REDO,mUpdateCardHandler,new DeckTask.TaskData(0,AnkiDroidApp.deck(),mCurrentCard.getId(),false));
return true;
}
return false;
}
