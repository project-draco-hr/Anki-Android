{
  Deck deck=AnkiDroidApp.deck();
  String unformattedTitle=getResources().getString(R.string.studyoptions_window_title);
  setTitle(String.format(unformattedTitle,deck.deckName,deck.revCount + deck.failedSoonCount,deck.cardCount));
  SpannableString failedSoonCount=new SpannableString(String.valueOf(deck.failedSoonCount));
  SpannableString revCount=new SpannableString(String.valueOf(deck.revCount));
  SpannableString newCount=new SpannableString(String.valueOf(deck.newCountToday));
  int isDue=mCurrentCard.isDue;
  int type=mCurrentCard.type;
  if ((isDue == 1) && (type == Deck.CARD_TYPE_NEW)) {
    newCount.setSpan(new UnderlineSpan(),0,newCount.length(),0);
  }
  if ((isDue == 1) && (type == Deck.CARD_TYPE_REV)) {
    revCount.setSpan(new UnderlineSpan(),0,revCount.length(),0);
  }
  if ((isDue == 1) && (type == Deck.CARD_TYPE_FAILED)) {
    failedSoonCount.setSpan(new UnderlineSpan(),0,failedSoonCount.length(),0);
  }
  mTextBarRed.setText(failedSoonCount);
  mTextBarBlack.setText(revCount);
  mTextBarBlue.setText(newCount);
}
