{
  final StyledOpenCollectionDialog dialog=new StyledOpenCollectionDialog(context);
  LayoutInflater inflater=(LayoutInflater)context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
  dialog.mMainLayout=inflater.inflate(R.layout.styled_open_collection_dialog,null);
  dialog.addContentView(dialog.mMainLayout,new LayoutParams(LayoutParams.FILL_PARENT,LayoutParams.WRAP_CONTENT));
  if (message != null) {
    TextView tv=(TextView)dialog.mMainLayout.findViewById(R.id.deckpicker_loading_layer_statusline);
    tv.setText(message);
    if (textClickListener != null) {
      tv.setOnClickListener(textClickListener);
    }
  }
  dialog.setContentView(dialog.mMainLayout);
  dialog.setOnCancelListener(cancelListener);
  dialog.getWindow().getAttributes().windowAnimations=R.style.Animation_Translucent;
  if (animationEnabled(context)) {
    dialog.show();
    WindowManager.LayoutParams lp=new WindowManager.LayoutParams();
    lp.copyFrom(dialog.getWindow().getAttributes());
    lp.width=WindowManager.LayoutParams.FILL_PARENT;
    lp.height=WindowManager.LayoutParams.FILL_PARENT;
    dialog.show();
    dialog.getWindow().setAttributes(lp);
  }
  return dialog;
}
