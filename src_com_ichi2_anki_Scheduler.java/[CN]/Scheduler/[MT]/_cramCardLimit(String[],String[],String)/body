{
  if (active.length > 0) {
    long yids[]=Utils.toPrimitive(tagIds(active).values());
    return sql.replace("WHERE ","WHERE +c.id IN (SELECT cardId FROM cardTags WHERE " + "tagId IN " + Utils.ids2str(yids) + ") AND ");
  }
 else {
    return sql;
  }
}
