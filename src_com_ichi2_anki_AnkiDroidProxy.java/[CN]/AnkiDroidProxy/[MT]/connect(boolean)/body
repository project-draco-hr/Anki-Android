{
  if (mDecks == null) {
    String decksString=getDecks();
    try {
      JSONObject jsonDecks=new JSONObject(decksString);
      String status=jsonDecks.getString("status");
      if (ANKIWEB_STATUS_OK.equalsIgnoreCase(status)) {
        mDecks=jsonDecks.getJSONObject("decks");
        mTimestamp=jsonDecks.getDouble("timestamp");
        mTimediff=Math.abs(mTimestamp - Utils.now());
        if (checkClocks && (mTimediff > 300)) {
          Log.e(AnkiDroidApp.TAG,"connect - The clock of the device and that of the server are unsynchronized!");
          return LOGIN_CLOCKS_UNSYNCED;
        }
        return LOGIN_OK;
      }
 else       if (ANKIWEB_STATUS_INVALID_USER_PASS.equalsIgnoreCase(status)) {
        return LOGIN_INVALID_USER_PASS;
      }
 else       if (ANKIWEB_STATUS_OLD_VERSION.equalsIgnoreCase(status)) {
        return LOGIN_OLD_VERSION;
      }
 else       if (ANKIWEB_STATUS_TOO_BUSY.equalsIgnoreCase(status)) {
        return LOGIN_TOO_BUSY;
      }
 else {
        Log.e(AnkiDroidApp.TAG,"connect - unexpected status: " + status);
        return LOGIN_ERROR;
      }
    }
 catch (    JSONException e) {
      Log.e(AnkiDroidApp.TAG,"connect - JSONException = " + e.getMessage());
      return LOGIN_ERROR;
    }
  }
  return LOGIN_OK;
}
