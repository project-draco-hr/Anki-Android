{
  long time=System.currentTimeMillis();
  long id;
  int rand;
  Random random=new Random();
  if (sIdTree == null) {
    sIdTree=new TreeSet<Integer>();
    sIdTime=time;
  }
 else   if (sIdTime != time) {
    sIdTime=time;
    sIdTree.clear();
  }
  while (true) {
    rand=random.nextInt(2 ^ 23);
    if (!sIdTree.contains(new Integer(rand))) {
      sIdTree.add(new Integer(rand));
      break;
    }
  }
  id=rand << 41 | time;
  return id;
}
