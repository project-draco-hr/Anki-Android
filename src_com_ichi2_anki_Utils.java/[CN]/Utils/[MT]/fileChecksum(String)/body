{
  byte[] bytes=null;
  try {
    File file=new File(path);
    if (file != null && file.isFile()) {
      bytes=new byte[(int)file.length()];
      FileInputStream fin=new FileInputStream(file);
      fin.read(bytes);
    }
  }
 catch (  FileNotFoundException e) {
    Log.e(AnkiDroidApp.TAG,"Can't find file " + path + " to calculate its checksum");
  }
catch (  IOException e) {
    Log.e(AnkiDroidApp.TAG,"Can't read file " + path + " to calculate its checksum");
  }
  if (bytes == null) {
    Log.w(AnkiDroidApp.TAG,"File " + path + " appears to be empty");
    return "";
  }
  MessageDigest md=null;
  byte[] digest=null;
  try {
    md=MessageDigest.getInstance("MD5");
    digest=md.digest(bytes);
  }
 catch (  NoSuchAlgorithmException e) {
    Log.e(AnkiDroidApp.TAG,"Utils.checksum: No such algorithm. " + e.getMessage());
    throw new RuntimeException(e);
  }
  BigInteger biginteger=new BigInteger(1,digest);
  String result=biginteger.toString(16);
  if (result.length() < 32) {
    result="00000000000000000000000000000000".substring(0,32 - result.length()) + result;
  }
  return result;
}
