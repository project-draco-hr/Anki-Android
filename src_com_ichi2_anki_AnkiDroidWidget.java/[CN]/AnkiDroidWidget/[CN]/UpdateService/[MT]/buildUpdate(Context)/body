{
  Log.i(TAG,"buildUpdate");
  RemoteViews updateViews=new RemoteViews(context.getPackageName(),R.layout.ankidroid_widget_view);
  Deck currentDeck=AnkiDroidApp.getDeck();
  ArrayList<DeckInformation> decks=fetchDeckInformation();
  StringBuilder sb=new StringBuilder();
  for (int i=0; i < decks.size() && i < 3; i++) {
    DeckInformation deck=decks.get(i);
    sb.append(String.format("%s\n",deck.toString()));
  }
  if (sb.length() > 1) {
    sb.substring(0,sb.length() - 1);
  }
  updateViews.setTextViewText(R.id.anki_droid_text,sb);
  if (currentDeck != null) {
    AnkiDroidApp.setDeck(currentDeck);
    Deck.openDeck(currentDeck.getDeckPath());
  }
  return updateViews;
}
