{
  Log.i(AnkiDroidApp.TAG,"deleteMedia");
  AnkiDb ankiDB=AnkiDatabaseManager.getDatabase(mDeck.getDeckPath());
  String idsString=Utils.ids2str(ids);
  ArrayList<String> files=ankiDB.queryColumn(String.class,"SELECT filename FROM media WHERE id IN " + idsString,0);
  double now=Utils.now();
  String sqlInsert="INSERT INTO mediaDeleted SELECT id, " + String.format(ENGLISH_LOCALE,"%f",now) + " FROM media WHERE media.id = ?";
  SQLiteStatement statement=ankiDB.getDatabase().compileStatement(sqlInsert);
  int len=ids.length();
  for (int i=0; i < len; i++) {
    try {
      Log.i(AnkiDroidApp.TAG,"Inserting media " + ids.getLong(i) + " into mediaDeleted");
      statement.bindLong(1,ids.getLong(i));
      statement.executeInsert();
    }
 catch (    JSONException e) {
      Log.i(AnkiDroidApp.TAG,"JSONException = " + e.getMessage());
    }
  }
  statement.close();
  Log.i(AnkiDroidApp.TAG,"Deleting media in = " + idsString);
  ankiDB.getDatabase().execSQL("DELETE FROM media WHERE id IN " + idsString);
}
