{
  double delay=0.0;
  JSONArray bundledHistory=new JSONArray();
  Cursor cursor=AnkiDatabaseManager.getDatabase(mDeck.getDeckPath()).getDatabase().rawQuery("SELECT cardId, time, lastInterval, nextInterval, ease, delay, lastFactor, nextFactor, reps, " + "thinkingTime, yesCount, noCount FROM reviewHistory " + "WHERE time > "+ String.format(Utils.ENGLISH_LOCALE,"%f",mDeck.getLastSync()),null);
  while (cursor.moveToNext()) {
    JSONArray review=new JSONArray();
    review.put(0,(long)cursor.getLong(0));
    review.put(1,(double)cursor.getDouble(1));
    review.put(2,(double)cursor.getDouble(2));
    review.put(3,(double)cursor.getDouble(3));
    review.put(4,(int)cursor.getInt(4));
    delay=cursor.getDouble(5);
    Number num=Double.valueOf(delay);
    Log.d(AnkiDroidApp.TAG,String.format(Utils.ENGLISH_LOCALE,"issue 372 2: %.18f %s %s",delay,num.toString(),review.toString()));
    review.put(5,delay);
    Log.d(AnkiDroidApp.TAG,String.format(Utils.ENGLISH_LOCALE,"issue 372 3: %.18f %s %s",review.getDouble(5),num.toString(),review.toString()));
    review.put(6,(double)cursor.getDouble(6));
    Log.d(AnkiDroidApp.TAG,String.format(Utils.ENGLISH_LOCALE,"issue 372 4: %.18f %s %s",review.getDouble(5),num.toString(),review.toString()));
    review.put(7,(double)cursor.getDouble(7));
    review.put(8,(double)cursor.getDouble(8));
    review.put(9,(double)cursor.getDouble(9));
    review.put(10,(double)cursor.getDouble(10));
    review.put(11,(double)cursor.getDouble(11));
    Log.d(AnkiDroidApp.TAG,String.format(Utils.ENGLISH_LOCALE,"issue 372 complete row: %.18f %.18f %s",delay,review.getDouble(5),review.toString()));
    bundledHistory.put(review);
  }
  cursor.close();
  Log.i(AnkiDroidApp.TAG,"Last sync = " + String.format(Utils.ENGLISH_LOCALE,"%f",mDeck.getLastSync()));
  Log.i(AnkiDroidApp.TAG,"Bundled history = " + bundledHistory.toString());
  return bundledHistory;
}
