{
  AnkiDb ankiDB=AnkiDatabaseManager.getDatabase(deck.deckPath);
  ArrayList<String> mediaIds=new ArrayList<String>();
  String sql="INSERT OR REPLACE INTO media (id, filename, size, created, originalPath, description) VALUES(?,?,?,?,?,?)";
  SQLiteStatement statement=ankiDB.database.compileStatement(sql);
  int len=media.length();
  for (int i=0; i < len; i++) {
    try {
      JSONArray m=media.getJSONArray(i);
      String id=m.getString(0);
      mediaIds.add(id);
      statement.bindString(1,id);
      statement.bindString(2,m.getString(1));
      statement.bindString(3,m.getString(2));
      statement.bindDouble(4,m.getDouble(3));
      statement.bindString(5,m.getString(4));
      statement.bindString(6,m.getString(5));
      statement.execute();
    }
 catch (    JSONException e) {
      Log.i(AnkiDroidApp.TAG,"JSONException = " + e.getMessage());
    }
  }
  statement.close();
  ankiDB.database.execSQL("DELETE FROM mediaDeleted WHERE mediaId IN " + Utils.ids2str(mediaIds));
}
