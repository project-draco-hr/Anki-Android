{
  Cursor cursor=null;
  int tagSrc=0;
  for (int i=0; i < mTagsBySrc.length; i++) {
    mTagsBySrc[i]="";
  }
  try {
    cursor=AnkiDatabaseManager.getDatabase(mDeck.getDeckPath()).getDatabase().rawQuery("SELECT tags.tag, cardTags.src " + "FROM cardTags JOIN tags ON cardTags.tagId = tags.id " + "WHERE cardTags.cardId = " + mId + " AND cardTags.src in ("+ TAGS_FACT+ ", "+ TAGS_MODEL+ ","+ TAGS_TEMPL+ ") "+ "ORDER BY cardTags.id",null);
    while (cursor.moveToNext()) {
      tagSrc=cursor.getInt(1);
      if (mTagsBySrc[tagSrc].length() > 0) {
        mTagsBySrc[tagSrc]+="," + cursor.getString(0);
      }
 else {
        mTagsBySrc[tagSrc]+=cursor.getString(0);
      }
    }
  }
  finally {
    if (cursor != null) {
      cursor.close();
    }
  }
}
