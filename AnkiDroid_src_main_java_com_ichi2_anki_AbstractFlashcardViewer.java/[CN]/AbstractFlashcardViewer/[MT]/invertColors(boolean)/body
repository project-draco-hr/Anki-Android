{
  Resources res=getResources();
  int[] colors=Themes.setNightMode(this,mMainLayout,invert);
  refreshActionBar();
  mForegroundColor=colors[0];
  mNextTimeTextColor=mForegroundColor;
  mNextTimeTextRecomColor=colors[1];
  mFlipCard.setTextColor(mForegroundColor);
  mEase4.setTextColor(mNextTimeTextColor);
  mCardTimer.setTextColor(mForegroundColor);
  mTextBarNew.setTextColor(invert ? res.getColor(R.color.new_count_night) : res.getColor(R.color.new_count));
  mTextBarLearn.setTextColor(invert ? res.getColor(R.color.learn_count_night) : res.getColor(R.color.learn_count));
  mTextBarReview.setTextColor(invert ? res.getColor(R.color.review_count_night) : res.getColor(R.color.review_count));
  mAnswerField.setTextColor(mForegroundColor);
  if (mCard != null) {
    mCard.setBackgroundColor(mCurrentBackgroundColor);
  }
  CompatHelper.getCompat().setActionBarBackground(this,invert ? R.color.white_background_night : R.color.theme_primary);
}
