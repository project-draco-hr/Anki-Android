{
  Matcher m=sTypeAnsPat.matcher(buf);
  if (mTypeWarning != null) {
    return m.replaceFirst(mTypeWarning);
  }
  if (mPrefWriteAnswers) {
    return m.replaceFirst("<span id=typeans class=\"typePrompt\">........</span>");
  }
 else {
    return m.replaceFirst("<span id=typeans class=\"typePrompt typeOff\">........</span>");
  }
}
