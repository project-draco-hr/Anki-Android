{
  Log.d(AnkiDroidApp.TAG,"WidgetStatus.UpdateDeckStatusAsyncTask.doInBackground()");
  Context context=params[0];
  if (!AnkiDroidApp.isSdCardMounted()) {
    return context;
  }
  try {
    if (sSmallWidgetStatus == null) {
      Collection col=Collection.currentCollection();
      if (col == null) {
        Log.i(AnkiDroidApp.TAG,"updateWidgetStatus - Collection not present, opening it");
        col=Collection.openCollection(AnkiDroidApp.getCollectionPath(),true);
        mSmallWidgetStatus=col.getSched().progressToday(sDeckCounts,null,true);
        Log.i(AnkiDroidApp.TAG,"updateWidgetStatus - close collection, if necessary");
        col.closeIfOnlyOpenedByWidget();
      }
 else {
        mSmallWidgetStatus=col.getSched().progressToday(sDeckCounts,null,true);
      }
    }
 else {
      mSmallWidgetStatus=sSmallWidgetStatus;
    }
  }
 catch (  SQLException e) {
    Log.i(AnkiDroidApp.TAG,"Widget: Problems on retrieving deck information");
  }
  return context;
}
