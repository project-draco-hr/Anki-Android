{
  if (AnkiDroidApp.SDK_VERSION >= 7 && AnkiDroidApp.SDK_VERSION <= 10) {
    Themes.applyTheme(this,Themes.THEME_ANDROID_DARK);
  }
  super.onCreate(savedInstanceState);
  mPrefMan=getPreferenceManager();
  mPrefMan.setSharedPreferencesName(AnkiDroidApp.SHARED_PREFS_NAME);
  addPreferencesFromResource(R.xml.preferences);
  getPreferenceScreen().getSharedPreferences().registerOnSharedPreferenceChangeListener(this);
  swipeCheckboxPreference=(CheckBoxPreference)getPreferenceScreen().findPreference("swipe");
  zoomCheckboxPreference=(CheckBoxPreference)getPreferenceScreen().findPreference("zoom");
  keepScreenOnCheckBoxPreference=(CheckBoxPreference)getPreferenceScreen().findPreference("keepScreenOn");
  showAnswerCheckBoxPreference=(CheckBoxPreference)getPreferenceScreen().findPreference("timeoutAnswer");
  animationsCheckboxPreference=(CheckBoxPreference)getPreferenceScreen().findPreference("themeAnimations");
  useBackupPreference=(CheckBoxPreference)getPreferenceScreen().findPreference("useBackup");
  asyncModePreference=(CheckBoxPreference)getPreferenceScreen().findPreference("asyncMode");
  eInkDisplayPreference=(CheckBoxPreference)getPreferenceScreen().findPreference("eInkDisplay");
  fadeScrollbars=(CheckBoxPreference)getPreferenceScreen().findPreference("fadeScrollbars");
  ListPreference listpref=(ListPreference)getPreferenceScreen().findPreference("theme");
  convertFenText=(CheckBoxPreference)getPreferenceScreen().findPreference("convertFenText");
  fixHebrewText=(CheckBoxPreference)getPreferenceScreen().findPreference("fixHebrewText");
  String theme=listpref.getValue();
  animationsCheckboxPreference.setEnabled(theme.equals("2") || theme.equals("3"));
  zoomCheckboxPreference.setEnabled(!swipeCheckboxPreference.isChecked());
  initializeLanguageDialog();
  initializeCustomFontsDialog();
  for (  String key : mShowValueInSummList) {
    updateListPreference(key);
  }
  for (  String key : mShowValueInSummSeek) {
    updateSeekBarPreference(key);
  }
  for (  String key : mShowValueInSummEditText) {
    updateEditTextPreference(key);
  }
  if (AnkiDroidApp.SDK_VERSION <= 4) {
    fadeScrollbars.setChecked(false);
    fadeScrollbars.setEnabled(false);
  }
}
