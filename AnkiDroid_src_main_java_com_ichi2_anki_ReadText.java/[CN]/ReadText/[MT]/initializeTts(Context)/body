{
  mReviewer=new WeakReference<Context>(context);
  mTts=new TextToSpeech(context,new TextToSpeech.OnInitListener(){
    @Override public void onInit(    int status){
      if (status == TextToSpeech.SUCCESS) {
        mTts.setLanguage(Locale.US);
        mTts.stop();
        buildAvailableLanguages();
        ((AbstractFlashcardViewer)mReviewer.get()).ttsInitialized();
        Toast.makeText(mReviewer.get(),R.string.ok,Toast.LENGTH_SHORT).show();
        Log.i(AnkiDroidApp.TAG,"TTS initialized and set to US");
      }
 else {
        Toast.makeText(mReviewer.get(),mReviewer.get().getString(R.string.no_tts_available_message),Toast.LENGTH_LONG).show();
      }
      AnkiDroidApp.getCompat().setTtsOnUtteranceProgressListener(mTts);
    }
  }
);
  mTtsParams=new HashMap<String,String>();
  mTtsParams.put(TextToSpeech.Engine.KEY_PARAM_UTTERANCE_ID,"stringId");
  Toast.makeText(context,context.getString(R.string.initializing_tts),Toast.LENGTH_LONG).show();
}
