{
  try {
    StatFs stat=new StatFs(file.getParentFile().getPath());
    long blocks=stat.getAvailableBlocks();
    long blocksize=stat.getBlockSize();
    return blocks * blocksize;
  }
 catch (  IllegalArgumentException e) {
    Log.e(AnkiDroidApp.TAG,"Free space could not be retrieved: " + e);
    return StudyOptions.MIN_FREE_SPACE * 1024 * 1024;
  }
}
