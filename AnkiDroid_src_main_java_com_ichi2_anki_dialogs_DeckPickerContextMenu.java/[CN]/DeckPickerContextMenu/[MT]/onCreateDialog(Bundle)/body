{
  super.onCreate(savedInstanceState);
  Resources res=getResources();
  boolean hasSubdecks=getArguments().getBoolean("hasSubdecks");
  String[] entries=new String[hasSubdecks ? 5 : 4];
  entries[CONTEXT_MENU_RENAME_DECK]=res.getString(R.string.contextmenu_deckpicker_rename_deck);
  entries[CONTEXT_MENU_DECK_OPTIONS]=res.getString(R.string.study_options);
  entries[CONTEXT_MENU_DELETE_DECK]=res.getString(R.string.contextmenu_deckpicker_delete_deck);
  entries[CONTEXT_MENU_EXPORT_DECK]=res.getString(R.string.export);
  if (hasSubdecks) {
    entries[CONTEXT_MENU_COLLAPSE_DECK]=res.getString(getArguments().getBoolean("isCollapsed") ? R.string.contextmenu_deckpicker_inflate_deck : R.string.contextmenu_deckpicker_collapse_deck);
  }
  return new MaterialDialog.Builder(getActivity()).title(getArguments().getString("dialogTitle")).cancelable(true).autoDismiss(false).items(entries).itemsCallback(mContextMenuListener).build();
}
