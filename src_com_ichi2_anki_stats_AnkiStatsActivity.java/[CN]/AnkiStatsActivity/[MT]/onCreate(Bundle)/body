{
  sIsWholeCollectionOnly=AnkiStatsTaskHandler.isWholeCollection();
  sIsSubtitle=true;
  super.onCreate(savedInstanceState);
  mTaskHandler=new AnkiStatsTaskHandler();
  mMainLayout=getLayoutInflater().inflate(R.layout.activity_anki_stats,null);
  initNavigationDrawer(mMainLayout);
  setContentView(mMainLayout);
  final ActionBar actionBar=getSupportActionBar();
  mActionBar=actionBar;
  actionBar.setNavigationMode(ActionBar.NAVIGATION_MODE_TABS);
  mSectionsPagerAdapter=new SectionsPagerAdapter(getSupportFragmentManager());
  mViewPager=(ViewPager)findViewById(R.id.pager);
  mViewPager.setAdapter(mSectionsPagerAdapter);
  mViewPager.setOffscreenPageLimit(8);
  AnkiStatsTaskHandler.createFirstStatisticChooserTask(mViewPager);
  mViewPager.setOnPageChangeListener(new ViewPager.SimpleOnPageChangeListener(){
    @Override public void onPageSelected(    int position){
      actionBar.setSelectedNavigationItem(position);
    }
  }
);
  for (int i=0; i < mSectionsPagerAdapter.getCount(); i++) {
    actionBar.addTab(actionBar.newTab().setText(mSectionsPagerAdapter.getPageTitle(i)).setTabListener(this));
  }
  float size=new TextView(this).getTextSize();
  mTaskHandler.setmStandardTextSize(size);
}
