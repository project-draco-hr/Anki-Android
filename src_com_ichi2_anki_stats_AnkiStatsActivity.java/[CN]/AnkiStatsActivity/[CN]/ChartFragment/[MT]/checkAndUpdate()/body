{
  if (!mIsCreated)   return;
  int height=mChart.getMeasuredHeight();
  int width=mChart.getMeasuredWidth();
  if (height != 0 && width != 0) {
    if (mHeight != height || mWidth != width || mType != (((AnkiStatsActivity)getActivity()).getTaskHandler()).getStatType() || mDeckId != AnkiDroidApp.getCol().getDecks().selected() || mIsWholeCollection != AnkiStatsTaskHandler.isWholeCollection()) {
      mHeight=height;
      mWidth=width;
      mType=(((AnkiStatsActivity)getActivity()).getTaskHandler()).getStatType();
      mProgressBar.setVisibility(View.VISIBLE);
      mChart.setVisibility(View.GONE);
      mDeckId=AnkiDroidApp.getCol().getDecks().selected();
      mIsWholeCollection=AnkiStatsTaskHandler.isWholeCollection();
      if (mCreateChartTask != null && !mCreateChartTask.isCancelled()) {
        mCreateChartTask.cancel(true);
      }
      createChart();
    }
  }
}
